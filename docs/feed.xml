<?xml version="1.0" encoding="UTF-8"?> <rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"> <channel> <title>Newbe | Newbe便是新生，唯有不断蜕变才能焕然新生。</title> <description>Newbe.Mahua致力于开发一套具备高级特性的QQ机器人开发平台： 1.一次开发支持多QQ机器人平台。 2.采用framework452开发，支持主流nuget包，充分发挥C#开发优势。 3.全面采用依赖注入框架，程序灵活可控适应多变的程序结构。 </description> <link>http://0.0.0.0:4000/</link> <atom:link href="http://0.0.0.0:4000/feed.xml" rel="self" type="application/rss+xml"/> <pubDate>Sun, 07 Jan 2018 13:37:25 +0000</pubDate> <lastBuildDate>Sun, 07 Jan 2018 13:37:25 +0000</lastBuildDate> <generator>Jekyll v3.6.2</generator> <item> <title>Newbe.Mahua 1.7.0 支持API扩展</title> <description>&lt;p&gt;从此版本开始，支持对&lt;code class=&quot;highlighter-rouge&quot;&gt;IMahuaApi&lt;/code&gt;进行扩展实现。扩展性进一步提升。&lt;/p&gt; &lt;h1 id=&quot;版本亮点&quot;&gt;版本亮点&lt;/h1&gt; &lt;h2 id=&quot;支持对imahuaapi进行扩展&quot;&gt;支持对&lt;code class=&quot;highlighter-rouge&quot;&gt;IMahuaApi&lt;/code&gt;进行扩展&lt;/h2&gt; &lt;p&gt;允许SDK的使用者添加或者替换IMahuaApi的实现。从而实现一些原平台不具备或实现不佳的API。&lt;/p&gt; &lt;p&gt;详细的使用方法可以参考教程：&lt;a href=&quot;/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html&quot;&gt;教程链接&lt;/a&gt;&lt;/p&gt; &lt;h2 id=&quot;添加newbemahuaapiextensions对平台进行api扩展&quot;&gt;添加&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.*.ApiExtensions&lt;/code&gt;对平台进行API扩展&lt;/h2&gt; &lt;p&gt;进入了&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.*.ApiExtensions&lt;/code&gt;包可以实现对平台原有API进行扩展。&lt;/p&gt; &lt;p&gt;详细的使用方法可以参考教程：&lt;a href=&quot;/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html&quot;&gt;教程链接&lt;/a&gt;&lt;/p&gt; &lt;h2 id=&quot;支持在构建时修改newbemahuacqpjson&quot;&gt;支持在构建时修改&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.CQP.json&lt;/code&gt;&lt;/h2&gt; &lt;p&gt;新版本的构建脚本将支持在构建时自动，按照插件作者信息对&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.CQP.json&lt;/code&gt;进行修改。&lt;/p&gt; &lt;h1 id=&quot;升级注意&quot;&gt;升级注意&lt;/h1&gt; &lt;p&gt;从 1.6 版本直接更新全部的 Newbe.Mahua.* nuget 包，重新生成便可以。&lt;/p&gt; &lt;p&gt;升级过程中若出现需要覆盖&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.CQP.json&lt;/code&gt;的提示，允许即可。&lt;/p&gt; &lt;p&gt;VS插件更新只需要按照VS提示进行操作即可。&lt;/p&gt; &lt;p&gt;=========================更多内容分割线=========================&lt;/p&gt; &lt;h1 id=&quot;教程链接&quot;&gt;教程链接&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/16/Begin-First-Plugin-With-Mahua-In-v1.4.html&quot;&gt;开始第一个QQ机器人【适用于v1.4及以上】&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/24/Newbe-Mahua-Administration.html&quot;&gt;Newbe.Mahua 扩展设置中心&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html&quot;&gt;Newbe.Mahua 测试与调试&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html&quot;&gt;Newbe.Mahua.Samples.Sqlite SQLite操作实例&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html&quot;&gt;Newbe.Mahua.Samples.LiveGirl 操作定时任务&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html&quot;&gt;Newbe.Mahua.Samples.ApiExtensions 对IMahuaApi进行扩展&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;发布说明&quot;&gt;发布说明&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/01/07/Release-Notes-1-7-0.html&quot;&gt;Newbe.Mahua 1.7.0 支持API扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html&quot;&gt;Newbe.Mahua 1.6.0 开发便利性提升&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Sun, 07 Jan 2018 00:00:00 +0000</pubDate> <link>http://0.0.0.0:4000/docs/mahua/releasenodes/2018/01/07/Release-Notes-1-7-0.html</link> <guid isPermaLink="true">http://0.0.0.0:4000/docs/mahua/releasenodes/2018/01/07/Release-Notes-1-7-0.html</guid> <category>Mahua</category> <category>SDK</category> <category>Docs</category> <category>Mahua</category> <category>ReleaseNodes</category> </item> <item> <title>Newbe.Mahua.Samples.ApiExtensions 对IMahuaApi进行扩展</title> <description>&lt;p&gt;本教程将通过对CQP进行API扩展为例，来实现以下功能：&lt;/p&gt; &lt;ul&gt; &lt;li&gt;扩展CQP原生不支持的获取好友列表接口&lt;/li&gt; &lt;li&gt;替换CQP原生的发送好友消息接口&lt;/li&gt; &lt;li&gt;通过&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.CQP.ApiExtensions&lt;/code&gt;实现扩展CQP原生不支持的发送群公告接口&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;对于其他平台的扩展都可以参考此教程。&lt;/p&gt; &lt;h1 id=&quot;软硬条件&quot;&gt;软硬条件&lt;/h1&gt; &lt;table&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;名&lt;/th&gt; &lt;th&gt;值&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt;IDE&lt;/td&gt; &lt;td&gt;VS2017.5&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Newbe.Mahua&lt;/td&gt; &lt;td&gt;1.7&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;h1 id=&quot;业务逻辑&quot;&gt;业务逻辑&lt;/h1&gt; &lt;p&gt;当收到好友消息的时候，获取好友列表。&lt;/p&gt; &lt;p&gt;将好友列表的数据写入到群公告中。&lt;/p&gt; &lt;p&gt;替换发送好友消息接口，实际上将好友消息写入到日志文件中。&lt;/p&gt; &lt;h1 id=&quot;新建项目&quot;&gt;新建项目&lt;/h1&gt; &lt;p&gt;使用&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.Plugins.Template&lt;/code&gt;模板创建项目，项目名称为&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.Samples.ApiExtensions&lt;/code&gt;。&lt;/p&gt; &lt;p&gt;新建项目的详细细节，可以参照右侧链接内容：&lt;a href=&quot;/docs/mahua/2017/12/16/Begin-First-Plugin-With-Mahua-In-v1.4.html#新建项目&quot;&gt;新建项目&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;业务逻辑实现&quot;&gt;业务逻辑实现&lt;/h1&gt; &lt;p&gt;本教程主要为了演示API的调用效果，因此只需要实现”好友消息接收事件”即可，具体代码如下：&lt;/p&gt; &lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;MahuaEvents&lt;/code&gt;下添加”好友消息接收事件”，并在事件内调用业务逻辑。实现代码如下：&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;MahuaEvents文件夹是本SDK建议将事件放置的文件夹位置。也可以不接受建议而添加在其他地方。&lt;/p&gt; &lt;/blockquote&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/30246ec6d5e0463da188764319c8c746.js&quot;&gt; &lt;/script&gt; &lt;h1 id=&quot;扩展api&quot;&gt;扩展API&lt;/h1&gt; &lt;p&gt;以下采用三种方式扩展API。&lt;/p&gt; &lt;h2 id=&quot;自己实现原来不支持的&quot;&gt;自己实现原来不支持的&lt;/h2&gt; &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;IMahuaApi.GetFriends&lt;/code&gt;在CQP平台下，原生是不支持的，本节可以通过添加实现类来进行扩展。&lt;/p&gt; &lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;MahuaApis&lt;/code&gt;下添加”获取好友列表”。并实现代码如下：&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;MahuaApis 文件夹是本SDK建议将API扩展放置的文件夹位置。也可以不接受建议而添加在其他地方。&lt;/p&gt; &lt;/blockquote&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180107-001.png&quot; alt=&quot;添加获取好友列表&quot; /&gt;&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/8223fd1d42de4a078e8b5fd7cbda5941.js&quot;&gt; &lt;/script&gt; &lt;h2 id=&quot;替换原来就支持的&quot;&gt;替换原来就支持的&lt;/h2&gt; &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;IMahuaApi.SendPrivateMessage&lt;/code&gt;接口是CQP平台原生就支持的接口。&lt;/p&gt; &lt;p&gt;本节将通过扩展来覆盖原有的逻辑，将需要发送的消息写入到日志文件中。&lt;/p&gt; &lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;MahuaApis&lt;/code&gt;下添加”发送私聊消息”。并实现代码如下：&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;MahuaApis 文件夹是本SDK建议将API扩展放置的文件夹位置。也可以不接受建议而添加在其他地方。&lt;/p&gt; &lt;/blockquote&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/a1b99f00e97c47078ea45eef3e87ff26.js&quot;&gt; &lt;/script&gt; &lt;h2 id=&quot;引入扩展包&quot;&gt;引入扩展包&lt;/h2&gt; &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;IMahuaApi.SetNotice&lt;/code&gt;在CQP平台下，原生是不支持的。&lt;/p&gt; &lt;p&gt;为了给开发者提供更多便利的功能。本SDK提供了&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.*.ApiExtensions&lt;/code&gt;系列 nuget 包。&lt;/p&gt; &lt;p&gt;插件使用者只需要引入这些 nuget 并恰当的注册，便可以实现对平台原生不支持的API进行扩展。&lt;/p&gt; &lt;p&gt;在项目源码下&lt;code class=&quot;highlighter-rouge&quot;&gt;Readme.md&lt;/code&gt;的MahuaApi支持列表详细记录了平台原生支持的API和扩展包支持的API。&lt;/p&gt; &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.CQP.ApiExtensions&lt;/code&gt; 1.7 版本实现了 CQP 平台下发送群公告的功能，因此，通过 nuget 直接安装此包即可。&lt;/p&gt; &lt;h1 id=&quot;模块注册&quot;&gt;模块注册&lt;/h1&gt; &lt;p&gt;以上三种方式实现API的扩展都需要在模块中进行注册，具体的注册代码如下：&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/ca5896a7220a4ef7b62914f80c9fbb7d.js&quot;&gt; &lt;/script&gt; &lt;h1 id=&quot;集成测试&quot;&gt;集成测试&lt;/h1&gt; &lt;p&gt;万事具备，只欠生成。&lt;/p&gt; &lt;p&gt;生成解决方案，运行&lt;code class=&quot;highlighter-rouge&quot;&gt;build.bat&lt;/code&gt;，复制相关的 DLL 到对应的平台，向机器人发送消息，效果达成！&lt;/p&gt; &lt;p&gt;以下是 CQP 平台的测试效果。&lt;del&gt;其实其他的没测试&lt;/del&gt;&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180107-002.png&quot; alt=&quot;API注册&quot; /&gt;&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180107-003.png&quot; alt=&quot;好友消息&quot; /&gt;&lt;/p&gt; &lt;h1 id=&quot;总结&quot;&gt;总结&lt;/h1&gt; &lt;p&gt;不同平台具备不同的API支持范围。通过自定义扩展和扩展包的引入，可以弥合各平台之间的不同。&lt;/p&gt; &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.*.ApiExtensions&lt;/code&gt;系列 nuget 包的实现需要依托社区发展方可进一步完善，欢迎您参与其中。&lt;/p&gt; &lt;p&gt;实例的项目代码，可以在源码仓库中的&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.Samples.ApiExtensions&lt;/code&gt;解决方案下找到。&lt;/p&gt; &lt;p&gt;=========================更多内容分割线=========================&lt;/p&gt; &lt;h1 id=&quot;教程链接&quot;&gt;教程链接&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/16/Begin-First-Plugin-With-Mahua-In-v1.4.html&quot;&gt;开始第一个QQ机器人【适用于v1.4及以上】&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/24/Newbe-Mahua-Administration.html&quot;&gt;Newbe.Mahua 扩展设置中心&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html&quot;&gt;Newbe.Mahua 测试与调试&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html&quot;&gt;Newbe.Mahua.Samples.Sqlite SQLite操作实例&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html&quot;&gt;Newbe.Mahua.Samples.LiveGirl 操作定时任务&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html&quot;&gt;Newbe.Mahua.Samples.ApiExtensions 对IMahuaApi进行扩展&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;发布说明&quot;&gt;发布说明&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/01/07/Release-Notes-1-7-0.html&quot;&gt;Newbe.Mahua 1.7.0 支持API扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html&quot;&gt;Newbe.Mahua 1.6.0 开发便利性提升&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Sun, 07 Jan 2018 00:00:00 +0000</pubDate> <link>http://0.0.0.0:4000/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html</link> <guid isPermaLink="true">http://0.0.0.0:4000/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html</guid> <category>Mahua</category> <category>SDK</category> <category>Docs</category> <category>Mahua</category> </item> <item> <title>借一步说话</title> <description>&lt;p&gt;是的，如果你希望答谢本站内容给你带来的帮助，那么可以通过以下途径支持本站。&lt;/p&gt; &lt;p&gt;是的，一整页都是关于如何资助本网站。&lt;/p&gt; &lt;p&gt;&lt;strong&gt;可以分文不花就完成对本站的支持。&lt;/strong&gt;&lt;/p&gt; &lt;h1 id=&quot;不花钱&quot;&gt;不！花！钱！&lt;/h1&gt; &lt;h2 id=&quot;七牛认证&quot;&gt;七牛认证&lt;/h2&gt; &lt;p&gt;通过以下链接，注册七牛账号，通过实名认证，本站点将会获得每个月5G的下载流量。&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;https://portal.qiniu.com/signup?code=3lh1xg5arudea&quot; target=&quot;_blank&quot;&gt;https://portal.qiniu.com/signup?code=3lh1xg5arudea&lt;/a&gt;&lt;/p&gt; &lt;h2 id=&quot;阿里云&quot;&gt;阿里云&lt;/h2&gt; &lt;p&gt;通过以下链接，领取优惠券，并购买阿里云的产品。本站长将获得一定返利，可用于支付本站域名的年费。&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=vmx5szbq&amp;amp;utm_source=vmx5szbq&quot; target=&quot;_blank&quot;&gt;https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=vmx5szbq&amp;amp;utm_source=vmx5szbq&lt;/a&gt;&lt;/p&gt; &lt;h2 id=&quot;新浪sae&quot;&gt;新浪SAE&lt;/h2&gt; &lt;p&gt;「新浪云福利」1000云豆免费领！低成本、免运维、灵活、安全稳定，轻松应对业务爆发式增长，一起来用吧！&lt;/p&gt; &lt;p&gt;注册地址：&lt;a href=&quot;http://t.cn/R48ZVJJ&quot; target=&quot;_blank&quot;&gt;http://t.cn/R48ZVJJ&lt;/a&gt;&lt;/p&gt; &lt;h2 id=&quot;挖矿&quot;&gt;挖矿？&lt;/h2&gt; &lt;p&gt;&lt;a href=&quot;https://authedmine.com/media/miner.html?key=70pQBVoLVg88SblKomCh9mJHBeT8nOzk&quot;&gt;https://authedmine.com/media/miner.html?key=70pQBVoLVg88SblKomCh9mJHBeT8nOzk&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;钱钱钱&quot;&gt;钱、钱、钱！&lt;/h1&gt; &lt;h2 id=&quot;支付宝&quot;&gt;支付宝&lt;/h2&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/zhifubao.jpg&quot; alt=&quot;支付宝&quot; height=&quot;600px&quot; width=&quot;400px&quot; /&gt;&lt;/p&gt; &lt;h2 id=&quot;微信&quot;&gt;微信&lt;/h2&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/weixin.png&quot; alt=&quot;微信&quot; height=&quot;400px&quot; width=&quot;400px&quot; /&gt;&lt;/p&gt; &lt;h2 id=&quot;开源中国&quot;&gt;开源中国&lt;/h2&gt; &lt;p&gt;&lt;a href=&quot;https://gitee.com/yks/Newbe.Mahua.Framework#project-donate-overview&quot;&gt;https://gitee.com/yks/Newbe.Mahua.Framework#project-donate-overview&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Sun, 07 Jan 2018 00:00:00 +0000</pubDate> <link>http://0.0.0.0:4000/other/2018/01/07/Donate.html</link> <guid isPermaLink="true">http://0.0.0.0:4000/other/2018/01/07/Donate.html</guid> <category>Donate</category> <category>Other</category> <category>Other</category> </item> <item> <title>Newbe.Mahua.Samples.LiveGirl 操作定时任务</title> <description>&lt;p&gt;B站直播姬！定时向群友通知群主何时进行女装直播的消息。&lt;/p&gt; &lt;h1 id=&quot;软硬条件&quot;&gt;软硬条件&lt;/h1&gt; &lt;table&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;名&lt;/th&gt; &lt;th&gt;值&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt;IDE&lt;/td&gt; &lt;td&gt;VS2017.5&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Newbe.Mahua&lt;/td&gt; &lt;td&gt;1.6&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;h1 id=&quot;业务逻辑&quot;&gt;业务逻辑&lt;/h1&gt; &lt;p&gt;收到 “直播姬起飞” 的消息后，启动定时任务，每个整点时，检测B站直播间当前是否正在直播。&lt;/p&gt; &lt;p&gt;如果正在直播，就向群发送 “群主正在女装” 的消息。&lt;/p&gt; &lt;p&gt;收到 “直播姬降落” 的消息后，取消所有定时任务。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171231-001.png&quot; alt=&quot;最终效果&quot; /&gt;&lt;/p&gt; &lt;h1 id=&quot;新建项目&quot;&gt;新建项目&lt;/h1&gt; &lt;p&gt;使用&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.Plugins.Template&lt;/code&gt;模板创建项目，项目名称为&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.Samples.LiveGirl&lt;/code&gt;。&lt;/p&gt; &lt;p&gt;新建项目的详细细节，可以参照右侧链接内容：&lt;a href=&quot;/docs/mahua/2017/12/16/Begin-First-Plugin-With-Mahua-In-v1.4.html#新建项目&quot;&gt;新建项目&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;业务逻辑实现&quot;&gt;业务逻辑实现&lt;/h1&gt; &lt;p&gt;定义直播姬接口&lt;code class=&quot;highlighter-rouge&quot;&gt;ILiveGirl&lt;/code&gt;，包含 “启动” 和 “停止” 两个基础方法。以便收到消息命令后对定时任务进行启停。&lt;/p&gt; &lt;p&gt;为了提升多核CPU的利用率，相关接口都采用异步的方式进行定义。&lt;del&gt;实际上时为了让新手看不懂&lt;/del&gt;&lt;/p&gt; &lt;p&gt;业务接口代码如下：&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/8f95555422134a18a3698accdaf647d7.js&quot;&gt; &lt;/script&gt; &lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;MahuaEvents&lt;/code&gt;下添加”好友消息接收事件”，并在事件内调用业务逻辑。实现代码如下：&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;MahuaEvents文件夹是本SDK建议将事件放置的文件夹位置。也可以不接受建议而添加在其他地方。&lt;/p&gt; &lt;/blockquote&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/6712e75915704af8bd6d935a2e9f2f7e.js&quot;&gt; &lt;/script&gt; &lt;p&gt;至此直播姬的启停便实现完毕。&lt;/p&gt; &lt;h1 id=&quot;定时任务&quot;&gt;定时任务&lt;/h1&gt; &lt;p&gt;定时任务的实现方式多种多样，可以利用&lt;code class=&quot;highlighter-rouge&quot;&gt;Timer&lt;/code&gt;进行简单实现，也可以使用一些定时任务的类库进行实现。&lt;/p&gt; &lt;p&gt;比较流行的有：&lt;del&gt;其实我也就知道两个&lt;/del&gt;&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Quartz.net&lt;/li&gt; &lt;li&gt;Hangfire&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;本例程将使用&lt;code class=&quot;highlighter-rouge&quot;&gt;Hangfire&lt;/code&gt;来实现这一个功能。&lt;/p&gt; &lt;h2 id=&quot;安装-nuget-包&quot;&gt;安装 nuget 包&lt;/h2&gt; &lt;p&gt;安装以下 nuget 包：&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Hangfire.Core&lt;/li&gt; &lt;li&gt;Hangfire.MemoryStorage&lt;/li&gt; &lt;li&gt;Hangfire.Autofac&lt;/li&gt; &lt;li&gt;Microsoft.Owin.Hosting&lt;/li&gt; &lt;li&gt;Microsoft.Owin.Host.HttpListener&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Hangfire&lt;/code&gt;相关内容是实现定时任务功能。&lt;/p&gt; &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Microsoft.Owin.*&lt;/code&gt;则实现了在非IIS进程中托管Web服务的功能。&lt;/p&gt; &lt;h2 id=&quot;插件启动时初始化web服务&quot;&gt;插件启动时初始化Web服务&lt;/h2&gt; &lt;p&gt;Hangfire 需要通过Web服务来展示当前的任务状态情况。&lt;/p&gt; &lt;p&gt;添加 &lt;code class=&quot;highlighter-rouge&quot;&gt;IWebHost&lt;/code&gt; 接口，以便在插件初始化时，初始化Web服务。&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/0ed8dc3675a24c31a9941c58fb412d15.js&quot;&gt; &lt;/script&gt; &lt;p&gt;Web服务的初始化，需要在插件启动时进行调用。&lt;/p&gt; &lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;MahuaEvents&lt;/code&gt;下添加”插件初始化事件”，并在事件内调用初始化。实现代码如下：&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;MahuaEvents文件夹是本SDK建议将事件放置的文件夹位置。也可以不接受建议而添加在其他地方。&lt;/p&gt; &lt;/blockquote&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/37ad126e385443878f0d0e7593b9476b.js&quot;&gt; &lt;/script&gt; &lt;h2 id=&quot;添加hangfire初始化代码&quot;&gt;添加Hangfire初始化代码&lt;/h2&gt; &lt;p&gt;Owin 的启动入口是一个名为&lt;code class=&quot;highlighter-rouge&quot;&gt;Startup&lt;/code&gt;的启动类，为了初始化&lt;code class=&quot;highlighter-rouge&quot;&gt;Hangfire&lt;/code&gt;，则需要创建启动类，并初始化&lt;code class=&quot;highlighter-rouge&quot;&gt;Hangfire&lt;/code&gt;。&lt;/p&gt; &lt;p&gt;代码如下：&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/b0ac56f3b75f4133ad20904cd67c495f.js&quot;&gt; &lt;/script&gt; &lt;h2 id=&quot;实现iwebhost&quot;&gt;实现IWebHost&lt;/h2&gt; &lt;p&gt;上代码：&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/44f9bcc333c24673995ceff8e094da7b.js&quot;&gt; &lt;/script&gt; &lt;h1 id=&quot;实现直播姬&quot;&gt;实现直播姬&lt;/h1&gt; &lt;p&gt;基础设施已经在上一节完成，接下来就要实现直播姬和定时任务之间的调度代码。&lt;/p&gt; &lt;h2 id=&quot;获取直播间状态&quot;&gt;获取直播间状态&lt;/h2&gt; &lt;p&gt;直播间状态可以通过捕捉HTTP请求，看出如何实现。&lt;/p&gt; &lt;p&gt;本例程，将引入 &lt;code class=&quot;highlighter-rouge&quot;&gt;RestSharp&lt;/code&gt; nuget 包来实现HTTP请求。&lt;/p&gt; &lt;p&gt;定义直播间接口&lt;code class=&quot;highlighter-rouge&quot;&gt;ILiveRoom&lt;/code&gt;并添加实现类。&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/e54860d14d3e49699c7ecaf7cf649a00.js&quot;&gt; &lt;/script&gt; &lt;h2 id=&quot;livegirl&quot;&gt;Livegirl&lt;/h2&gt; &lt;p&gt;来吧，终于可以实现直播姬了。&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/ad131d1630834cb9b7dd38193172f8f0.js&quot;&gt; &lt;/script&gt; &lt;h1 id=&quot;模块注册&quot;&gt;模块注册&lt;/h1&gt; &lt;p&gt;以上所有的接口与实现类与接口，都不要忘记在模块中进行注册，以下是&lt;code class=&quot;highlighter-rouge&quot;&gt;MahuaModule&lt;/code&gt;的完整代码：&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/a879dd22d3104ba98e23bb32dda73c51.js&quot;&gt; &lt;/script&gt; &lt;h1 id=&quot;集成测试&quot;&gt;集成测试&lt;/h1&gt; &lt;p&gt;万事具备，只欠生成。&lt;/p&gt; &lt;p&gt;生成解决方案，运行&lt;code class=&quot;highlighter-rouge&quot;&gt;build.bat&lt;/code&gt;，复制相关的 DLL 到对应的平台，向机器人发送消息，效果达成！&lt;/p&gt; &lt;p&gt;以下是 CQP 平台的测试效果。&lt;del&gt;其实其他的没测试&lt;/del&gt;&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171231-001.png&quot; alt=&quot;最终效果&quot; /&gt;&lt;/p&gt; &lt;h1 id=&quot;总结&quot;&gt;总结&lt;/h1&gt; &lt;p&gt;一般的定时任务只需要使用&lt;code class=&quot;highlighter-rouge&quot;&gt;Timer&lt;/code&gt;就能够实现了，引入&lt;code class=&quot;highlighter-rouge&quot;&gt;Hangfire&lt;/code&gt;主要是为了体现框架本身的可扩展性。&lt;del&gt;分明是为了装逼&lt;/del&gt;&lt;/p&gt; &lt;p&gt;HTTP的捕捉，可以使用&lt;code class=&quot;highlighter-rouge&quot;&gt;Fiddler&lt;/code&gt;等Web调试工具实现。&lt;del&gt;又要自己学&lt;/del&gt;&lt;/p&gt; &lt;p&gt;例程中写死的字符串，应当通过文件配置进行保存，可以自行改造。&lt;/p&gt; &lt;p&gt;实例的项目代码，可以在源码仓库中的&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.Samples&lt;/code&gt;解决方案下找到。&lt;/p&gt; &lt;p&gt;=========================更多内容分割线=========================&lt;/p&gt; &lt;h1 id=&quot;教程链接&quot;&gt;教程链接&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/16/Begin-First-Plugin-With-Mahua-In-v1.4.html&quot;&gt;开始第一个QQ机器人【适用于v1.4及以上】&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/24/Newbe-Mahua-Administration.html&quot;&gt;Newbe.Mahua 扩展设置中心&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html&quot;&gt;Newbe.Mahua 测试与调试&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html&quot;&gt;Newbe.Mahua.Samples.Sqlite SQLite操作实例&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html&quot;&gt;Newbe.Mahua.Samples.LiveGirl 操作定时任务&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html&quot;&gt;Newbe.Mahua.Samples.ApiExtensions 对IMahuaApi进行扩展&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;发布说明&quot;&gt;发布说明&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/01/07/Release-Notes-1-7-0.html&quot;&gt;Newbe.Mahua 1.7.0 支持API扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html&quot;&gt;Newbe.Mahua 1.6.0 开发便利性提升&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Sun, 31 Dec 2017 00:00:00 +0000</pubDate> <link>http://0.0.0.0:4000/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html</link> <guid isPermaLink="true">http://0.0.0.0:4000/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html</guid> <category>Mahua</category> <category>SDK</category> <category>Docs</category> <category>Mahua</category> </item> <item> <title>Newbe.Mahua 1.6.0 开发便利性提升</title> <description>&lt;p&gt;此次版本发布主要围绕”开发便利性提升”特性。可调试性、可追踪性都有进一步提升。&lt;/p&gt; &lt;h1 id=&quot;版本亮点&quot;&gt;版本亮点&lt;/h1&gt; &lt;h2 id=&quot;提供日志接口&quot;&gt;提供日志接口&lt;/h2&gt; &lt;p&gt;可以通过&lt;code class=&quot;highlighter-rouge&quot;&gt;ILog Logger = Newbe.Mahua.Logging.LogProvider.For&amp;lt;T&amp;gt;()&lt;/code&gt;创建日志接口的实例，并通过实例写日志。&lt;/p&gt; &lt;p&gt;日志接口通过&lt;a href=&quot;https://github.com/damianh/LibLog&quot;&gt;LibLog&lt;/a&gt;实现。&lt;/p&gt; &lt;p&gt;依托于该项目的灵活性，可以在流行的日志框架之间进行切换，包括：&lt;/p&gt; &lt;ul&gt; &lt;li&gt;NLog&lt;/li&gt; &lt;li&gt;Log4Net&lt;/li&gt; &lt;li&gt;EntLib Logging&lt;/li&gt; &lt;li&gt;Serilog&lt;/li&gt; &lt;li&gt;Loupe&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;本SDK默认使用NLog，详细内容可以通过&lt;a href=&quot;https://github.com/damianh/LibLog&quot;&gt;LibLog&lt;/a&gt;进行了解。&lt;/p&gt; &lt;h2 id=&quot;支持全局异常事件&quot;&gt;支持全局异常事件&lt;/h2&gt; &lt;p&gt;添加了&lt;code class=&quot;highlighter-rouge&quot;&gt;IExceptionOccuredMahuaEvent&lt;/code&gt;接口，运行出现异常事件。&lt;/p&gt; &lt;p&gt;当插件运行过程中出现异常时，将会触发此事件。&lt;/p&gt; &lt;p&gt;开发者可以在此事件中了解异常的原因，同时提供了&lt;code class=&quot;highlighter-rouge&quot;&gt;ContinueThrows&lt;/code&gt;参数，允许开发者阻止异常的抛出。&lt;/p&gt; &lt;p&gt;默认情况下，当框架出现异常时，将调用日志接口写下日志。&lt;/p&gt; &lt;p&gt;不再需要处处&lt;code class=&quot;highlighter-rouge&quot;&gt;try...catch&lt;/code&gt;。&lt;/p&gt; &lt;h2 id=&quot;支持应用程序配置文件appconfig&quot;&gt;支持应用程序配置文件（app.config）&lt;/h2&gt; &lt;p&gt;从 1.6 开始，将会支持 app.config 的配置。&lt;/p&gt; &lt;p&gt;由此，便可以实现 程序集重定向、AppSettings和ConnectionStrings等.Net高级配置内容。&lt;/p&gt; &lt;p&gt;详细的使用方法可以参照下文中的 &lt;a href=&quot;/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html&quot;&gt;Newbe.Mahua.Samples.Sqlite SQLite操作实例&lt;/a&gt; 。&lt;/p&gt; &lt;h2 id=&quot;支持调试框架源码&quot;&gt;支持调试框架源码&lt;/h2&gt; &lt;p&gt;从 1.6 开始，框架将采用 Debug 模式进行版本发布。&lt;/p&gt; &lt;p&gt;同时，依托 VS2017.5 版本的”源链接支持”和”&lt;a href=&quot;https://github.com/ctaggart/SourceLink&quot;&gt;SourceLink&lt;/a&gt;“的支持，开发者可以实现不需要下载源码，便可以实现调试框架源码的目的。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171230-001.png&quot; alt=&quot;开启源链接支持&quot; /&gt;&lt;/p&gt; &lt;h2 id=&quot;增加单元测试与调试sdk的说明&quot;&gt;增加单元测试与调试SDK的说明&lt;/h2&gt; &lt;p&gt;添加了 &lt;a href=&quot;/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html&quot;&gt;Newbe.Mahua 测试与调试&lt;/a&gt; 教程。&lt;/p&gt; &lt;p&gt;教程链接：&lt;a href=&quot;/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html&quot;&gt;Newbe.Mahua 测试与调试&lt;/a&gt;&lt;/p&gt; &lt;h2 id=&quot;增加-调用sqlite操作-的例子和说明&quot;&gt;增加 “调用SQLite操作” 的例子和说明&lt;/h2&gt; &lt;p&gt;为了响应社区要求，添加了 “调用SQLite操作” 的教程。&lt;/p&gt; &lt;p&gt;通过 异步操作、依赖注入和单元测试等关键内容，为开发者给出开发建议。&lt;/p&gt; &lt;p&gt;教程链接： &lt;a href=&quot;/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html&quot;&gt;Newbe.Mahua.Samples.Sqlite SQLite操作实例&lt;/a&gt;&lt;/p&gt; &lt;h2 id=&quot;增加-定时任务-的例子和说明&quot;&gt;增加 “定时任务” 的例子和说明&lt;/h2&gt; &lt;p&gt;为了响应社区要求，添加了 “定时任务” 的教程。&lt;/p&gt; &lt;p&gt;教程链接： &lt;a href=&quot;/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html&quot;&gt;Newbe.Mahua.Samples.LiveGirl 操作定时任务&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;bug修复&quot;&gt;BUG修复&lt;/h1&gt; &lt;ul&gt; &lt;li&gt;修复VS2015和VS2017同时安装在一台机器上时，build.bat运行出错的问题。&lt;/li&gt; &lt;li&gt;修复了如果没有安装平台扩展(例如：Newbe.Mahua.Administration)，build.bat运行出错的问题。&lt;/li&gt; &lt;/ul&gt; &lt;h1 id=&quot;升级注意&quot;&gt;升级注意&lt;/h1&gt; &lt;p&gt;从 1.5 版本直接更新全部的 Newbe.Mahua.* nuget 包，重新生成便可以。&lt;/p&gt; &lt;p&gt;升级过程中若出现需要覆盖build.ps1的提示，允许即可。&lt;/p&gt; &lt;p&gt;不再需要&lt;code class=&quot;highlighter-rouge&quot;&gt;Tungsten.Domains&lt;/code&gt;，可以在升级后卸载此 nuget 包。&lt;/p&gt; &lt;p&gt;VS插件更新只需要按照VS提示进行操作即可。&lt;/p&gt; &lt;p&gt;=========================更多内容分割线=========================&lt;/p&gt; &lt;h1 id=&quot;教程链接&quot;&gt;教程链接&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/16/Begin-First-Plugin-With-Mahua-In-v1.4.html&quot;&gt;开始第一个QQ机器人【适用于v1.4及以上】&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/24/Newbe-Mahua-Administration.html&quot;&gt;Newbe.Mahua 扩展设置中心&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html&quot;&gt;Newbe.Mahua 测试与调试&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html&quot;&gt;Newbe.Mahua.Samples.Sqlite SQLite操作实例&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html&quot;&gt;Newbe.Mahua.Samples.LiveGirl 操作定时任务&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html&quot;&gt;Newbe.Mahua.Samples.ApiExtensions 对IMahuaApi进行扩展&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;发布说明&quot;&gt;发布说明&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/01/07/Release-Notes-1-7-0.html&quot;&gt;Newbe.Mahua 1.7.0 支持API扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html&quot;&gt;Newbe.Mahua 1.6.0 开发便利性提升&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Sat, 30 Dec 2017 00:00:00 +0000</pubDate> <link>http://0.0.0.0:4000/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html</link> <guid isPermaLink="true">http://0.0.0.0:4000/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html</guid> <category>Mahua</category> <category>SDK</category> <category>Docs</category> <category>Mahua</category> <category>ReleaseNodes</category> </item> <item> <title>Newbe.Mahua.Samples.Sqlite SQLite操作实例</title> <description>&lt;p&gt;文本将通过实现一个记录”收到消息数量”的功能，来演示如何在本SDK中操作数据库的SQLite数据库。&lt;/p&gt; &lt;h1 id=&quot;软硬条件&quot;&gt;软硬条件&lt;/h1&gt; &lt;table&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;名&lt;/th&gt; &lt;th&gt;值&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt;IDE&lt;/td&gt; &lt;td&gt;VS2017.5&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Newbe.Mahua&lt;/td&gt; &lt;td&gt;1.6&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;h1 id=&quot;业务逻辑&quot;&gt;业务逻辑&lt;/h1&gt; &lt;p&gt;当收到好友消息时，将消息记录在数据库中。&lt;/p&gt; &lt;p&gt;同时将当前数据库中已经存储的消息数目，发送给消息发送者。&lt;/p&gt; &lt;p&gt;实测效果图：&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171230-003.png&quot; alt=&quot;最终效果&quot; /&gt;&lt;/p&gt; &lt;h1 id=&quot;新建项目&quot;&gt;新建项目&lt;/h1&gt; &lt;p&gt;使用&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.Plugins.Template&lt;/code&gt;模板创建项目，项目名称为&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.Samples.Sqlite&lt;/code&gt;。&lt;/p&gt; &lt;p&gt;新建项目的详细细节，可以参照右侧链接内容：&lt;a href=&quot;/docs/mahua/2017/12/16/Begin-First-Plugin-With-Mahua-In-v1.4.html#新建项目&quot;&gt;新建项目&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;业务逻辑实现&quot;&gt;业务逻辑实现&lt;/h1&gt; &lt;p&gt;业务逻辑比较简单，主要实现两个方法：”保存好友消息”和”获取消息数量”。&lt;/p&gt; &lt;p&gt;为了提升多核CPU的利用率，相关接口都采用异步的方式进行定义。&lt;del&gt;实际上时为了让新手看不懂&lt;/del&gt;&lt;/p&gt; &lt;p&gt;业务接口代码如下：&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/78d8db32578d4181aba1ef03d1fff9ed.js&quot;&gt; &lt;/script&gt; &lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;MahuaEvents&lt;/code&gt;下添加”好友消息接收事件”，并在事件内调用业务逻辑。实现代码如下：&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;MahuaEvents文件夹是本SDK建议将事件放置的文件夹位置。也可以不接受建议而添加在其他地方。&lt;/p&gt; &lt;/blockquote&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/9aac8a1c992044bfbc6e8b842372c3da.js&quot;&gt; &lt;/script&gt; &lt;p&gt;至此业务逻辑便实现完毕。&lt;/p&gt; &lt;h1 id=&quot;单元测试&quot;&gt;单元测试&lt;/h1&gt; &lt;p&gt;业务逻辑已经实现完毕，接下来对业务逻辑编写单元测试进行验证。&lt;del&gt;其实这么简单的逻辑，看一眼就知道没错&lt;/del&gt;&lt;/p&gt; &lt;p&gt;单元测试项目相关的内容可以参看右侧的教程：&lt;a href=&quot;/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html#测试&quot;&gt;单元测试&lt;/a&gt;&lt;/p&gt; &lt;p&gt;此处只将业务逻辑的关键测试代码展示出来：&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/f1e546c39bad4a6fbc855e1fb6d7302d.js&quot;&gt; &lt;/script&gt; &lt;h1 id=&quot;数据库操作实现&quot;&gt;数据库操作实现&lt;/h1&gt; &lt;h2 id=&quot;定义数据库操作接口&quot;&gt;定义数据库操作接口&lt;/h2&gt; &lt;p&gt;单元测试通过之后便表明当前业务逻辑都已经正确实现了。&lt;/p&gt; &lt;p&gt;接下来进一步就可以实现业务接口的实现类了。&lt;/p&gt; &lt;p&gt;为了完成业务逻辑，本实例至少需要”初始化数据库”、”查询数据库”和”向数据库插入数据”三个数据库操作方法。&lt;/p&gt; &lt;p&gt;其中的”查询数据库”和”向数据库插入数据”可以简单定义为”创建数据库链接即可”。&lt;/p&gt; &lt;p&gt;为了提升多核CPU的利用率，相关接口都采用异步的方式进行定义。&lt;del&gt;实际上时为了让新手看不懂&lt;/del&gt;&lt;/p&gt; &lt;p&gt;数据库操作接口定义如下：&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/b1a09237e10c4ad991660acb1d9674bb.js&quot;&gt; &lt;/script&gt; &lt;h2 id=&quot;使用sqlite实现数据库操作&quot;&gt;使用SQLite实现数据库操作&lt;/h2&gt; &lt;p&gt;SQLite数据库操作，通过官方提供的类库便可以完成。&lt;/p&gt; &lt;p&gt;通过 nuget 安装以下nuget包：&lt;/p&gt; &lt;ul&gt; &lt;li&gt;System.Data.SQLite.Core&lt;/li&gt; &lt;li&gt;Dapper&lt;/li&gt; &lt;li&gt;Dapper.Contrib&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;其中&lt;code class=&quot;highlighter-rouge&quot;&gt;System.Data.SQLite.Core&lt;/code&gt;是数据库驱动，&lt;code class=&quot;highlighter-rouge&quot;&gt;Dapper&lt;/code&gt;则是对&lt;code class=&quot;highlighter-rouge&quot;&gt;ADO.NET&lt;/code&gt;操作的扩展包。&lt;/p&gt; &lt;p&gt;新建&lt;code class=&quot;highlighter-rouge&quot;&gt;应用程序配置文件&lt;/code&gt;。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171230-002.png&quot; alt=&quot;应用程序配置文件&quot; /&gt;&lt;/p&gt; &lt;p&gt;在应用程序配置文件中配置以下内容：&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/b1c07f041151475a853d8003eb97c7f7.js&quot;&gt; &lt;/script&gt; &lt;p&gt;添加数据库操作实现类&lt;code class=&quot;highlighter-rouge&quot;&gt;SqliteDbHelper&lt;/code&gt;,详细代码如下：&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/b40b418f89474f2788a118029844b493.js&quot;&gt; &lt;/script&gt; &lt;h2 id=&quot;编写业务实现类&quot;&gt;编写业务实现类&lt;/h2&gt; &lt;p&gt;完成了业务接口的定义和数据操作的定义，接下来只要将两者结合起来，便可以实现业务实现类。&lt;/p&gt; &lt;p&gt;添加&lt;code class=&quot;highlighter-rouge&quot;&gt;FriendMessageStore&lt;/code&gt;类，详细代码如下：&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/0d9c3cc90ff44de9920cbcfcc7fc7154.js&quot;&gt; &lt;/script&gt; &lt;h2 id=&quot;在插件启动时初始化数据库&quot;&gt;在插件启动时初始化数据库&lt;/h2&gt; &lt;p&gt;数据库的初始化，需要在插件启动时进行调用。&lt;/p&gt; &lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;MahuaEvents&lt;/code&gt;下添加”插件初始化事件”，并在事件内调用业务逻辑。实现代码如下：&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;MahuaEvents文件夹是本SDK建议将事件放置的文件夹位置。也可以不接受建议而添加在其他地方。&lt;/p&gt; &lt;/blockquote&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/b3c0531b395c4045b44566d8fb03c7d2.js&quot;&gt; &lt;/script&gt; &lt;h1 id=&quot;模块注册&quot;&gt;模块注册&lt;/h1&gt; &lt;p&gt;以上所有的接口与实现类与接口，都不要忘记在模块中进行注册，以下是&lt;code class=&quot;highlighter-rouge&quot;&gt;MahuaModule&lt;/code&gt;的完整代码：&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/5ea6037102fb408ebf39c62c3f9c016e.js&quot;&gt; &lt;/script&gt; &lt;h1 id=&quot;集成测试&quot;&gt;集成测试&lt;/h1&gt; &lt;p&gt;万事具备，只欠生成。&lt;/p&gt; &lt;p&gt;生成解决方案，运行&lt;code class=&quot;highlighter-rouge&quot;&gt;build.bat&lt;/code&gt;，复制相关的 DLL 到对应的平台，向机器人发送消息，效果达成！&lt;/p&gt; &lt;p&gt;以下是 CQP 平台的测试效果。&lt;del&gt;其实其他的没测试&lt;/del&gt;&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171230-003.png&quot; alt=&quot;最终效果&quot; /&gt;&lt;/p&gt; &lt;h1 id=&quot;总结&quot;&gt;总结&lt;/h1&gt; &lt;p&gt;数据库操作本身并不困难。&lt;/p&gt; &lt;p&gt;开发过程中采用基于接口开发的基本思想，结合单元测试，不论是开发简单的插件还是复杂的项目，都是可靠的方法。&lt;/p&gt; &lt;p&gt;若SQLite无法满足项目要求，只要将多实现一个&lt;code class=&quot;highlighter-rouge&quot;&gt;IDbHelper&lt;/code&gt;便可以完成了，开发者可以动手体验。&lt;/p&gt; &lt;p&gt;实例的项目代码，可以在源码仓库中的&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.Samples&lt;/code&gt;解决方案下找到。&lt;/p&gt; &lt;p&gt;=========================更多内容分割线=========================&lt;/p&gt; &lt;h1 id=&quot;教程链接&quot;&gt;教程链接&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/16/Begin-First-Plugin-With-Mahua-In-v1.4.html&quot;&gt;开始第一个QQ机器人【适用于v1.4及以上】&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/24/Newbe-Mahua-Administration.html&quot;&gt;Newbe.Mahua 扩展设置中心&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html&quot;&gt;Newbe.Mahua 测试与调试&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html&quot;&gt;Newbe.Mahua.Samples.Sqlite SQLite操作实例&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html&quot;&gt;Newbe.Mahua.Samples.LiveGirl 操作定时任务&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html&quot;&gt;Newbe.Mahua.Samples.ApiExtensions 对IMahuaApi进行扩展&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;发布说明&quot;&gt;发布说明&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/01/07/Release-Notes-1-7-0.html&quot;&gt;Newbe.Mahua 1.7.0 支持API扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html&quot;&gt;Newbe.Mahua 1.6.0 开发便利性提升&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Sat, 30 Dec 2017 00:00:00 +0000</pubDate> <link>http://0.0.0.0:4000/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html</link> <guid isPermaLink="true">http://0.0.0.0:4000/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html</guid> <category>Mahua</category> <category>SDK</category> <category>Docs</category> <category>Mahua</category> </item> <item> <title>Newbe.Mahua 测试与调试</title> <description>&lt;p&gt;测试与调试是开发过程当中不可缺少的环节。本教程将通过对”鹦鹉学舌”插件对”如何测试与调试Newbe.Mahua”.&lt;/p&gt; &lt;h1 id=&quot;测试&quot;&gt;测试&lt;/h1&gt; &lt;p&gt;测试分类多种多样，其中，”单元测试”是最开始的细粒度测试。&lt;/p&gt; &lt;p&gt;掌握单元测试的技能，将会在使用Newbe.Mahua进行开发时无往不利的成功秘诀。&lt;/p&gt; &lt;p&gt;本教程将使用VS2017作为开发IDE进行演示。&lt;/p&gt; &lt;h2 id=&quot;新建测试项目&quot;&gt;新建测试项目&lt;/h2&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171225-001.png&quot; alt=&quot;新建测试项目&quot; /&gt;&lt;/p&gt; &lt;h2 id=&quot;引入测试框架&quot;&gt;引入测试框架&lt;/h2&gt; &lt;p&gt;.Net测试框架众多，主流的有MSTest、NUnit和XUnit。本教程选择XUnit进行演示。&lt;/p&gt; &lt;p&gt;通过 nuget 安装以下包，全部安装最新版本即可：&lt;/p&gt; &lt;ul&gt; &lt;li&gt;xunit&lt;/li&gt; &lt;li&gt;xunit.runner.visualstudio&lt;/li&gt; &lt;li&gt;FluentAssertions&lt;/li&gt; &lt;li&gt;Autofac.Extras.Moq&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;可以不用先了解每个包时什么作用，看了代码，自然就会清楚。&lt;/p&gt; &lt;h2 id=&quot;添加单元测试代码&quot;&gt;添加单元测试代码&lt;/h2&gt; &lt;p&gt;先看一下需要测试的”鹦鹉学舌”插件的核心逻辑，将消息回发给消息发送者。&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/96d1ba0426b545979d3ce62b77193b1b.js&quot;&gt; &lt;/script&gt; &lt;p&gt;通过项目引用，引用”Newbe.Mahua.Plugins.Parrot”项目。&lt;/p&gt; &lt;p&gt;在新建的测试项目”Newbe.Mahua.Plugins.Parrot.Tests”中新建一个类”ParrotTest”，并填写以下代码：&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/b1553b31ebbf4284b0e263270722b6fd.js&quot;&gt; &lt;/script&gt; &lt;p&gt;通过阅读代码的注释，相信真正的勇士已经领会了其中的奥义。&lt;/p&gt; &lt;h2 id=&quot;运行测试代码&quot;&gt;运行测试代码&lt;/h2&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171225-002.png&quot; alt=&quot;运行测试&quot; /&gt;&lt;/p&gt; &lt;p&gt;&lt;strong&gt;来吧！真正的勇士，就绿了它们！&lt;/strong&gt;&lt;/p&gt; &lt;h2 id=&quot;需求变化&quot;&gt;需求变化&lt;/h2&gt; &lt;p&gt;需求变了，只有消息当中有”收到回复”这个字符串，那么才需要回发，并且要删除其中的”收到回复”字符串。&lt;/p&gt; &lt;p&gt;在测试项目新加一个实现类，来实现上面的业务逻辑。&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/fac68a41c182460198f8ae132b635ed9.js&quot;&gt; &lt;/script&gt; &lt;p&gt;显然，这个业务逻辑，至少需要两个单元测试。一个测试的消息中包含”收到回复”，另一个则不包含。&lt;/p&gt; &lt;p&gt;由此，新建”ParrotTestV2”类，并填写以下代码：&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/33494bc12fc74bf3820e5b5d201f93cc.js&quot;&gt; &lt;/script&gt; &lt;p&gt;自己手动尝试的过程中可能会出现，没出现”绿”的问题。不要放弃，要么测试错了，要么业务逻辑错误。电脑是不会错的。&lt;/p&gt; &lt;p&gt;其实上面的业务逻辑中是存在BUG的：QQ无法发送空的消息，所以，如果对方的消息只包含”收到回复”四个字，那么真正运行的时候会报错。&lt;/p&gt; &lt;p&gt;因此，要增加额外的逻辑判断和单元测试，来确保这个BUG不会发生。&lt;strong&gt;真正的勇士，自己就会动手。&lt;/strong&gt;&lt;/p&gt; &lt;h2 id=&quot;最后&quot;&gt;最后&lt;/h2&gt; &lt;p&gt;单元测试就是为了确保代码逻辑在小范围内绝对正确的开发行为，很有必要。&lt;/p&gt; &lt;p&gt;&lt;strong&gt;单元测试只要Newbe.Mahua提供的接口稳定，自己的业务逻辑没有变化，那么你的业务逻辑就永远能够通过单元测试。也就是说，这段代码就是为了确保你有底气说出：”我的代码不可能出错！”&lt;/strong&gt;&lt;/p&gt; &lt;p&gt;以上演示代码，均可以在本项目代码仓库中找到。&lt;/p&gt; &lt;h1 id=&quot;调试&quot;&gt;调试&lt;/h1&gt; &lt;p&gt;单元测试是开发阶段最初的测试，但事实是，绝大多数的人更喜欢”跑一下看看”。因此调试，也就很有必要。&lt;/p&gt; &lt;h2 id=&quot;构建&quot;&gt;构建&lt;/h2&gt; &lt;p&gt;在构建脚本&lt;code class=&quot;highlighter-rouge&quot;&gt;build.ps1&lt;/code&gt;中，将&lt;code class=&quot;highlighter-rouge&quot;&gt;$configuration&lt;/code&gt;从&lt;code class=&quot;highlighter-rouge&quot;&gt;Release&lt;/code&gt;改为&lt;code class=&quot;highlighter-rouge&quot;&gt;Debug&lt;/code&gt;，然后运行&lt;code class=&quot;highlighter-rouge&quot;&gt;build.bat&lt;/code&gt;完成构建。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171225-003.png&quot; alt=&quot;修改构建参数&quot; /&gt;&lt;/p&gt; &lt;h2 id=&quot;复制&quot;&gt;复制&lt;/h2&gt; &lt;p&gt;将生成的所有内容复制到对应机器人平台。&lt;/p&gt; &lt;h2 id=&quot;启动调试&quot;&gt;启动调试&lt;/h2&gt; &lt;p&gt;修改项目属性中的调试选项卡配置，并且将插件项目设置为启动项目，F5启动调试，下断点，命中，就这么简单。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171225-004.png&quot; alt=&quot;修改调试启动项目&quot; /&gt;&lt;/p&gt; &lt;h2 id=&quot;调试框架源码&quot;&gt;调试框架源码&lt;/h2&gt; &lt;p&gt;从 1.6 版本开始，使用 VS 2017.5 及以上的版本，将可以实现无需下载源码，便可以调试源码的目的，只需要在VS中打开下图设置即可。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171230-001.png&quot; alt=&quot;开启源链接支持&quot; /&gt;&lt;/p&gt; &lt;p&gt;至此，调试便可以正常进行了。&lt;/p&gt; &lt;p&gt;=========================更多内容分割线=========================&lt;/p&gt; &lt;h1 id=&quot;教程链接&quot;&gt;教程链接&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/16/Begin-First-Plugin-With-Mahua-In-v1.4.html&quot;&gt;开始第一个QQ机器人【适用于v1.4及以上】&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/24/Newbe-Mahua-Administration.html&quot;&gt;Newbe.Mahua 扩展设置中心&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html&quot;&gt;Newbe.Mahua 测试与调试&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html&quot;&gt;Newbe.Mahua.Samples.Sqlite SQLite操作实例&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html&quot;&gt;Newbe.Mahua.Samples.LiveGirl 操作定时任务&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html&quot;&gt;Newbe.Mahua.Samples.ApiExtensions 对IMahuaApi进行扩展&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;发布说明&quot;&gt;发布说明&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/01/07/Release-Notes-1-7-0.html&quot;&gt;Newbe.Mahua 1.7.0 支持API扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html&quot;&gt;Newbe.Mahua 1.6.0 开发便利性提升&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Mon, 25 Dec 2017 00:00:00 +0000</pubDate> <link>http://0.0.0.0:4000/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html</link> <guid isPermaLink="true">http://0.0.0.0:4000/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html</guid> <category>Mahua</category> <category>CQP</category> <category>Amanda</category> <category>MPQ</category> <category>SDK</category> <category>Docs</category> <category>Mahua</category> </item> <item> <title>Newbe.Mahua 开发教程导航</title> <description>&lt;p&gt;=========================更多内容分割线=========================&lt;/p&gt; &lt;h1 id=&quot;教程链接&quot;&gt;教程链接&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/16/Begin-First-Plugin-With-Mahua-In-v1.4.html&quot;&gt;开始第一个QQ机器人【适用于v1.4及以上】&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/24/Newbe-Mahua-Administration.html&quot;&gt;Newbe.Mahua 扩展设置中心&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html&quot;&gt;Newbe.Mahua 测试与调试&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html&quot;&gt;Newbe.Mahua.Samples.Sqlite SQLite操作实例&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html&quot;&gt;Newbe.Mahua.Samples.LiveGirl 操作定时任务&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html&quot;&gt;Newbe.Mahua.Samples.ApiExtensions 对IMahuaApi进行扩展&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;发布说明&quot;&gt;发布说明&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/01/07/Release-Notes-1-7-0.html&quot;&gt;Newbe.Mahua 1.7.0 支持API扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html&quot;&gt;Newbe.Mahua 1.6.0 开发便利性提升&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Sun, 24 Dec 2017 00:00:00 +0000</pubDate> <link>http://0.0.0.0:4000/docs/mahua/2017/12/24/Newbe-Mahua-Navigations.html</link> <guid isPermaLink="true">http://0.0.0.0:4000/docs/mahua/2017/12/24/Newbe-Mahua-Navigations.html</guid> <category>Resume</category> <category>Docs</category> <category>Mahua</category> </item> <item> <title>Newbe.Mahua 扩展设置中心</title> <description>&lt;p&gt;本教程将描述，如何使用和扩展&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua&lt;/code&gt;中的&lt;code class=&quot;highlighter-rouge&quot;&gt;设置中心&lt;/code&gt;。&lt;/p&gt; &lt;h1 id=&quot;设置中心&quot;&gt;设置中心&lt;/h1&gt; &lt;p&gt;设置中心是SDK提供的，可以进行挂载菜单和界面的管理中心。使用者可以通过实现特定的接口来实现一个跨平台的统一管理界面。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171224-001.png&quot; alt=&quot;设置中心&quot; /&gt;&lt;/p&gt; &lt;h1 id=&quot;扩展菜单&quot;&gt;扩展菜单&lt;/h1&gt; &lt;h2 id=&quot;引入nuget包&quot;&gt;引入nuget包&lt;/h2&gt; &lt;p&gt;&lt;a href=&quot;https://www.nuget.org/packages/Newbe.Mahua.Administration/&quot;&gt;https://www.nuget.org/packages/Newbe.Mahua.Administration/&lt;/a&gt; WPF版设置中心界面。&lt;/p&gt; &lt;p&gt;此nuget包是实现WPF版本的设置中心的必要组件。&lt;/p&gt; &lt;p&gt;最新的VS插件中的项目模板已经包含有此组件，无需特别安装。&lt;/p&gt; &lt;h2 id=&quot;定义菜单&quot;&gt;定义菜单&lt;/h2&gt; &lt;p&gt;在项目中实现&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.IMahuaMenuProvider&lt;/code&gt;接口中定义的方法，返回菜单项。&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;不要忘记在MahuaModule中注册这个实现类&lt;/p&gt; &lt;/blockquote&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/3d586d49497d4b13b9f1cb9c894d6c8d.js&quot;&gt; &lt;/script&gt; &lt;h2 id=&quot;菜单处理事件&quot;&gt;菜单处理事件&lt;/h2&gt; &lt;p&gt;右键点击&lt;code class=&quot;highlighter-rouge&quot;&gt;MahuaEvents&lt;/code&gt;文件夹，选择 添加-&amp;gt;新建项 。 从&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua&lt;/code&gt;中选取&lt;code class=&quot;highlighter-rouge&quot;&gt;菜单处理事件&lt;/code&gt;&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171224-005.png&quot; alt=&quot;新建菜单处理事件&quot; /&gt;&lt;/p&gt; &lt;p&gt;实现相关的业务逻辑。&lt;/p&gt; &lt;script src=&quot;https://gist.coding.net/u/pianzide1117/335b1361112848ae92fd0e876733f713.js&quot;&gt; &lt;/script&gt; &lt;blockquote&gt; &lt;p&gt;不要忘记在MahuaModule中注册这个实现类&lt;/p&gt; &lt;/blockquote&gt; &lt;h2 id=&quot;启动设置中心&quot;&gt;启动设置中心&lt;/h2&gt; &lt;p&gt;不同的平台点击不同的按钮来启动设置中心。&lt;/p&gt; &lt;h3 id=&quot;cqp&quot;&gt;CQP&lt;/h3&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171224-003.png&quot; alt=&quot;新建菜单处理事件&quot; /&gt;&lt;/p&gt; &lt;h3 id=&quot;amanda&quot;&gt;Amanda&lt;/h3&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171224-002.png&quot; alt=&quot;新建菜单处理事件&quot; /&gt;&lt;/p&gt; &lt;h3 id=&quot;mpq&quot;&gt;MPQ&lt;/h3&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171224-004.png&quot; alt=&quot;新建菜单处理事件&quot; /&gt;&lt;/p&gt; &lt;h2 id=&quot;完成&quot;&gt;完成&lt;/h2&gt; &lt;p&gt;至此，就完成了对&lt;code class=&quot;highlighter-rouge&quot;&gt;设置中心&lt;/code&gt;菜单的扩展。&lt;/p&gt; &lt;h1 id=&quot;自定义设置中心ui&quot;&gt;自定义设置中心UI&lt;/h1&gt; &lt;p&gt;WPF版设置中心是本SDK提供的基本界面。若在项目中不满足需求，可以通过本节内容实现彻底的自定义。&lt;/p&gt; &lt;p&gt;只要实现&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.IMahuaAdministration&lt;/code&gt;，那么在点击平台中的&lt;code class=&quot;highlighter-rouge&quot;&gt;设置&lt;/code&gt;或&lt;code class=&quot;highlighter-rouge&quot;&gt;设置中心&lt;/code&gt;按钮，便会调用此接口。&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;若需要采用自定义设置中心UI，需要移除&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.Administration&lt;/code&gt;包。&lt;/p&gt; &lt;/blockquote&gt; &lt;p&gt;=========================更多内容分割线=========================&lt;/p&gt; &lt;h1 id=&quot;教程链接&quot;&gt;教程链接&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/16/Begin-First-Plugin-With-Mahua-In-v1.4.html&quot;&gt;开始第一个QQ机器人【适用于v1.4及以上】&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/24/Newbe-Mahua-Administration.html&quot;&gt;Newbe.Mahua 扩展设置中心&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html&quot;&gt;Newbe.Mahua 测试与调试&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html&quot;&gt;Newbe.Mahua.Samples.Sqlite SQLite操作实例&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html&quot;&gt;Newbe.Mahua.Samples.LiveGirl 操作定时任务&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html&quot;&gt;Newbe.Mahua.Samples.ApiExtensions 对IMahuaApi进行扩展&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;发布说明&quot;&gt;发布说明&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/01/07/Release-Notes-1-7-0.html&quot;&gt;Newbe.Mahua 1.7.0 支持API扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html&quot;&gt;Newbe.Mahua 1.6.0 开发便利性提升&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Sun, 24 Dec 2017 00:00:00 +0000</pubDate> <link>http://0.0.0.0:4000/docs/mahua/2017/12/24/Newbe-Mahua-Administration.html</link> <guid isPermaLink="true">http://0.0.0.0:4000/docs/mahua/2017/12/24/Newbe-Mahua-Administration.html</guid> <category>Mahua</category> <category>CQP</category> <category>Amanda</category> <category>MPQ</category> <category>SDK</category> <category>Docs</category> <category>Mahua</category> </item> <item> <title>Newbe·简历</title> <description>&lt;p&gt;Newbe便是新生，唯有不断蜕变才能焕然新生。&lt;/p&gt; &lt;h1 id=&quot;基本信息&quot;&gt;基本信息&lt;/h1&gt; &lt;p&gt;男&lt;/p&gt; &lt;h1 id=&quot;学业历程&quot;&gt;学业历程&lt;/h1&gt; &lt;ul&gt; &lt;li&gt;2008-2011年 福建省古田县第一中学&lt;/li&gt; &lt;li&gt;2011-2015年 福建师范大学，数据与计算机科学学院，计算机科学与技术专业，本科&lt;/li&gt; &lt;/ul&gt; &lt;h2 id=&quot;主要亮点&quot;&gt;主要亮点&lt;/h2&gt; &lt;ul&gt; &lt;li&gt;四年连续获得一等奖学金和校三好学生称号。同专业共 120 余人，每年一人。&lt;/li&gt; &lt;li&gt;学生党支部书记、年级学生会主席&lt;/li&gt; &lt;li&gt;ACM 福建省银奖一次、校一等奖一次&lt;/li&gt; &lt;li&gt;学分平均绩点 3.0 以上，专业 3% 以内&lt;/li&gt; &lt;li&gt;为学校制作”名师讲堂”网站，展示新闻、视频等，获得了4K元酬金&lt;/li&gt; &lt;/ul&gt; &lt;h1 id=&quot;工作经验&quot;&gt;工作经验&lt;/h1&gt; &lt;h2 id=&quot;就职变迁&quot;&gt;就职变迁&lt;/h2&gt; &lt;table&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;时段&lt;/th&gt; &lt;th&gt;公司&lt;/th&gt; &lt;th&gt;部门&lt;/th&gt; &lt;th&gt;职务&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt;2014.07-2014.11&lt;/td&gt; &lt;td&gt;福州银达天成电子技术有限公司&lt;/td&gt; &lt;td&gt;软件开发部&lt;/td&gt; &lt;td&gt;.net开发工程师&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;2014.11至今&lt;/td&gt; &lt;td&gt;福建特力惠信息科技股份有限公司&lt;/td&gt; &lt;td&gt;研发部&lt;/td&gt; &lt;td&gt;.net研发工程师&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;h2 id=&quot;项目历程&quot;&gt;项目历程&lt;/h2&gt; &lt;h3 id=&quot;河北省国土资源厅一张图&quot;&gt;河北省国土资源厅一张图&lt;/h3&gt; &lt;h3 id=&quot;河南省国土资源厅一张图云门户&quot;&gt;河南省国土资源厅一张图云门户&lt;/h3&gt; &lt;h3 id=&quot;河南省国土资源厅统一访问控制系统&quot;&gt;河南省国土资源厅统一访问控制系统&lt;/h3&gt; &lt;h3 id=&quot;河南省国土资源厅电子政务内网门户&quot;&gt;河南省国土资源厅电子政务内网门户&lt;/h3&gt; &lt;h2 id=&quot;主要亮点-1&quot;&gt;主要亮点&lt;/h2&gt; &lt;h3 id=&quot;成长迅速&quot;&gt;成长迅速&lt;/h3&gt; &lt;h3 id=&quot;学以致用&quot;&gt;学以致用&lt;/h3&gt; &lt;h3 id=&quot;锐意进取&quot;&gt;锐意进取&lt;/h3&gt; &lt;h3 id=&quot;管理经验&quot;&gt;管理经验&lt;/h3&gt; &lt;h1 id=&quot;个人项目&quot;&gt;个人项目&lt;/h1&gt; &lt;h1 id=&quot;求职意向&quot;&gt;求职意向&lt;/h1&gt; &lt;h2 id=&quot;net-web开发&quot;&gt;.Net Web开发&lt;/h2&gt; </description> <pubDate>Wed, 20 Dec 2017 00:00:00 +0000</pubDate> <link>http://0.0.0.0:4000/docs/mahua/2017/12/20/Resume.html</link> <guid isPermaLink="true">http://0.0.0.0:4000/docs/mahua/2017/12/20/Resume.html</guid> <category>Resume</category> <category>Docs</category> <category>Mahua</category> </item> </channel> </rss>