<?xml version="1.0" encoding="UTF-8"?> <rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"> <channel> <title>Newbe</title> <description>Newbe | Newbe便是新生，唯有不断蜕变才能焕然新生。 </description> <link>http://www.newbe.pro/</link> <atom:link href="http://www.newbe.pro/feed.xml" rel="self" type="application/rss+xml"/> <pubDate>Thu, 02 Aug 2018 14:14:55 +0000</pubDate> <lastBuildDate>Thu, 02 Aug 2018 14:14:55 +0000</lastBuildDate> <generator>Jekyll v3.6.2</generator> <item> <title>Newbe.Mahua 1.11 支持热更新</title> <description>&lt;p&gt;从此版本开始，支持插件热更新的 Newbe.Mahua SDK 将给开发者带来更加丝滑的体验。&lt;/p&gt; &lt;h1 id=&quot;版本亮点&quot;&gt;版本亮点&lt;/h1&gt; &lt;h2 id=&quot;nuget包新结构&quot;&gt;nuget包新结构&lt;/h2&gt; &lt;p&gt;全新升级的 nuget 包结构，将其中的二进制文件进行了调整，使得开发者源码中的二进制内容减少。更为简洁。&lt;/p&gt; &lt;h2 id=&quot;热更新带来丝滑口感&quot;&gt;热更新带来丝滑口感&lt;/h2&gt; &lt;p&gt;支持插件的热更新机制，使得开发者在不重启QQ机器人平台的情况下也能够升级插件。&lt;/p&gt; &lt;p&gt;该特性也是由社区投票决议的首个特性。&lt;/p&gt; &lt;p&gt;关于该特性的详细描述，&lt;a href=&quot;/docs/mahua/2018/08/02/Newbe-Mahua-Hot-Upgrade.html&quot;&gt;点击此处进行了解。&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;升级注意&quot;&gt;升级注意&lt;/h1&gt; &lt;p&gt;从 1.10 版本直接更新全部的 Newbe.Mahua.* nuget 包，重新生成便可以。&lt;/p&gt; &lt;p&gt;升级过程中将自动删除源码中 NewbeLibs 文件夹下的内容，属于正常现象。&lt;/p&gt; &lt;p&gt;升级过程中需要覆盖 build.bat 和 build.ps1 文件。若有自行定制的内容，请提前保留备份。&lt;/p&gt; &lt;p&gt;VS插件更新只需要按照VS提示进行操作即可。&lt;/p&gt; &lt;hr /&gt; &lt;h1 id=&quot;教程链接&quot;&gt;教程链接&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/08/02/Newbe-Mahua-Hot-Upgrade.html&quot;&gt;Newbe.Mahua 插件热更新&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/07/08/An-Interview-From-Oschina-For-Newbe-Mahua.html&quot;&gt;【开源访谈】对接 QQ 机器人平台，对接共同成长的开源社区（开源中国采访）&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/06/10/Begin-First-Plugin-With-Mahua-In-v1.9.html&quot;&gt;开始第一个QQ机器人【适用于v1.9及以上】&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html&quot;&gt;Newbe.Mahua.Samples.ApiExtensions 对IMahuaApi进行扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html&quot;&gt;Newbe.Mahua.Samples.LiveGirl 操作定时任务&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html&quot;&gt;Newbe.Mahua.Samples.Sqlite SQLite操作实例&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html&quot;&gt;Newbe.Mahua 测试与调试&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/24/Newbe-Mahua-Administration.html&quot;&gt;Newbe.Mahua 扩展设置中心&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;发布说明&quot;&gt;发布说明&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/08/02/Release-Notes-1-11-0.html&quot;&gt;Newbe.Mahua 1.11 支持热更新&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/06/24/Release-Notes-1-10-0.html&quot;&gt;Newbe.Mahua 1.10 全新日志查看器&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/06/10/Release-Notes-1-9-0.html&quot;&gt;Newbe.Mahua 1.9 引入 Session&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/04/21/Release-Notes-1-8-0.html&quot;&gt;Newbe.Mahua 1.8 消息发送Fluent API&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/01/07/Release-Notes-1-7-0.html&quot;&gt;Newbe.Mahua 1.7.0 支持API扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html&quot;&gt;Newbe.Mahua 1.6.0 开发便利性提升&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Thu, 02 Aug 2018 00:00:00 +0000</pubDate> <link>http://www.newbe.pro/docs/mahua/releasenodes/2018/08/02/Release-Notes-1-11-0.html</link> <guid isPermaLink="true">http://www.newbe.pro/docs/mahua/releasenodes/2018/08/02/Release-Notes-1-11-0.html</guid> <category>Mahua</category> <category>SDK</category> <category>Docs</category> <category>Mahua</category> <category>ReleaseNodes</category> </item> <item> <title>Newbe.Mahua 插件热更新</title> <description>&lt;p&gt;本教程阐述如何在使用 Newbe.Mahua 开发插件时使用”插件热更新”技术。&lt;/p&gt; &lt;h1 id=&quot;软硬条件&quot;&gt;软硬条件&lt;/h1&gt; &lt;table&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;名&lt;/th&gt; &lt;th&gt;值&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt;IDE&lt;/td&gt; &lt;td&gt;VS2017.5&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Newbe.Mahua&lt;/td&gt; &lt;td&gt;1.11&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;h1 id=&quot;项目基础&quot;&gt;项目基础&lt;/h1&gt; &lt;p&gt;在阅读本教程之前，想必开发者已经学会了如何插件插件项目。因此本节只将本示例使用的关键参数和代码贴出。&lt;/p&gt; &lt;p&gt;本插件项目名称使用&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.Samples.HotUpdate&lt;/code&gt;，使用&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.Plugins.Template&lt;/code&gt;模板。&lt;/p&gt; &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;PluginInfo.cs&lt;/code&gt;文件内容：&lt;/p&gt; &lt;div class=&quot;language-csharp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Newbe.Mahua.Samples.HotUpdate&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// 本插件的基本信息&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PluginInfo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IPluginInfo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// 版本号，建议采用 主版本.次版本.修订号 的形式&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Version&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;1.0.0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// 插件名称&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Newbe.Mahua.Samples.HotUpdate&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// 作者名称&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Author&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Newbe&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// 插件Id，用于唯一标识插件产品的Id，至少包含 AAA.BBB.CCC 三个部分&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Newbe.Mahua.Samples.HotUpdate&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// 插件描述&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Description&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Newbe.Mahua.Samples.HotUpdate&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;新建一个好友消息处理事件（不要忘记注册）：&lt;/p&gt; &lt;div class=&quot;language-csharp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Newbe.Mahua.MahuaEvents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Newbe.Mahua.Samples.HotUpdate.MahuaEvents&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// 来自好友的私聊消息接收事件&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PrivateMessageMahuaEventV1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IPrivateMessageReceivedMahuaEvent&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;readonly&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IMahuaApi&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_mahuaApi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;PrivateMessageMahuaEventV1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IMahuaApi&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mahuaApi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_mahuaApi&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mahuaApi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ProcessPrivateMessage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PrivateMessageReceivedContext&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_mahuaApi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;SendPrivateMessage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FromQq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;嘤嘤嘤 v1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;运行&lt;code class=&quot;highlighter-rouge&quot;&gt;build.bat&lt;/code&gt;生成插件文件，复制到机器人平台启动。&lt;/p&gt; &lt;p&gt;那么当向机器人发送任意消息时，将会得到 “嘤嘤嘤 v1” 的回复。&lt;/p&gt; &lt;h1 id=&quot;开始体验热更新&quot;&gt;开始体验热更新&lt;/h1&gt; &lt;p&gt;在上一节项目的基础上，我们再增加一个好友消息处理事件（不要忘记注册）:&lt;/p&gt; &lt;div class=&quot;language-csharp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Newbe.Mahua.MahuaEvents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Newbe.Mahua.Samples.HotUpdate.MahuaEvents&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// 来自好友的私聊消息接收事件&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PrivateMessageMahuaEventV2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IPrivateMessageReceivedMahuaEvent&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;readonly&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IMahuaApi&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_mahuaApi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;PrivateMessageMahuaEventV2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IMahuaApi&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mahuaApi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_mahuaApi&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mahuaApi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ProcessPrivateMessage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PrivateMessageReceivedContext&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_mahuaApi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;SendPrivateMessage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FromQq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;嘤嘤嘤 v2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;运行&lt;code class=&quot;highlighter-rouge&quot;&gt;build.bat&lt;/code&gt;生成插件文件。&lt;/p&gt; &lt;p&gt;&lt;strong&gt;注意！从这步开始之后不一样了。&lt;/strong&gt;&lt;/p&gt; &lt;p&gt;进入生成了对应平台的文件夹，文件夹中包含一个文件夹名称为&lt;strong&gt;YUELUO&lt;/strong&gt;的文件夹。&lt;/p&gt; &lt;p&gt;该文件夹就是”插件热更新”的核心文件夹。&lt;/p&gt; &lt;p&gt;将YUELUO文件夹，&lt;strong&gt;复制到对应的机器人平台根目录&lt;/strong&gt;。&lt;/p&gt; &lt;p&gt;通过 LogView 日志查看器，便可以看到热更新已经启动。&lt;/p&gt; &lt;p&gt;经过一段时间的等待后，热更新将会结束。&lt;/p&gt; &lt;p&gt;此时，向机器人发送任意消息时，将会得到 “嘤嘤嘤 v1” 和 “嘤嘤嘤 v2” 的两条回复即表示热更新已经成功。&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;YUELUO 是 You unknow every lucky ubuntu owner 的缩写。摘自某论坛上centos使用者对ubuntu使用者的嘲讽。&lt;del&gt;绝对没有月落的意思&lt;/del&gt;&lt;/p&gt; &lt;/blockquote&gt; &lt;h1 id=&quot;其他注意点&quot;&gt;其他注意点&lt;/h1&gt; &lt;h2 id=&quot;开始热更新事件-ipluginhotupgradingmahuaevent&quot;&gt;开始热更新事件 IPluginHotUpgradingMahuaEvent&lt;/h2&gt; &lt;p&gt;开发者可以订阅”开始热更新事件”，在插件开始热更新时进行一些操作。并且能够通过参数控制是否取消热更新。&lt;/p&gt; &lt;p&gt;以下便是一个订阅的例子，该示例将允许在奇数秒进行热更新，偶数秒阻止热更新：&lt;/p&gt; &lt;div class=&quot;language-csharp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Newbe.Mahua.MahuaEvents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Newbe.Mahua.Samples.HotUpdate.MahuaEvents&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PluginHotUpgradingMahuaEvent&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IPluginHotUpgradingMahuaEvent&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;HotUpgrading&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PluginHotUpgradingContext&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DateTime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Second&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Canceled&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Reason&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;月老板说，该时辰不利于更新！&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;h2 id=&quot;热更新成功事件-ipluginhotupgradedmahuaevent&quot;&gt;热更新成功事件 IPluginHotUpgradedMahuaEvent&lt;/h2&gt; &lt;p&gt;开发者可以订阅”热更新成功事件”，在插件热更新成功时进行一些操作。若在”开始热更新事件”中取消了热更新，将不会触发该事件。&lt;/p&gt; &lt;p&gt;以下便是一个订阅的例子，该示例将在热更新成功之后输出一条日志：&lt;/p&gt; &lt;div class=&quot;language-csharp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Newbe.Mahua.Logging&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Newbe.Mahua.MahuaEvents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Newbe.Mahua.Samples.HotUpdate.MahuaEvents&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PluginHotUpgradedMahuaEvent&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IPluginHotUpgradedMahuaEvent&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;readonly&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ILog&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Logger&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;LogProvider&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;For&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PluginHotUpgradedMahuaEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;();&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;HotUpgraded&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PluginHotUpgradedContext&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Logger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;更新完毕，感谢月落大佬的奇妙点子&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;h2 id=&quot;插件初始化事件-iinitializationmahuaevent&quot;&gt;插件初始化事件 IInitializationMahuaEvent&lt;/h2&gt; &lt;p&gt;该事件原本在插件机器人初始化插件时，将会进行调用。&lt;/p&gt; &lt;p&gt;同时，在热更新成功之后，也将再次触发此事件。&lt;/p&gt; &lt;h2 id=&quot;热更新过程中的消息&quot;&gt;热更新过程中的消息&lt;/h2&gt; &lt;p&gt;热更新开始后，将会将后续接收的所有的消息进行暂存，在热更新成功之后发送后热更新之后的插件进行处理。&lt;/p&gt; &lt;h2 id=&quot;热回滚&quot;&gt;热回滚&lt;/h2&gt; &lt;p&gt;其实只要将文件夹自行备份就能够自己实现热回滚功能。&lt;/p&gt; &lt;h1 id=&quot;示例代码&quot;&gt;示例代码&lt;/h1&gt; &lt;p&gt;本教程中的所有示例代码，都可以在以下链接获取：&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;https://github.com/newbe36524/Newbe.Mahua.Framework/tree/master/src/Newbe.Mahua.Samples.HotUpdate&quot;&gt;https://github.com/newbe36524/Newbe.Mahua.Framework/tree/master/src/Newbe.Mahua.Samples.HotUpdate&lt;/a&gt;&lt;/p&gt; &lt;hr /&gt; &lt;h1 id=&quot;教程链接&quot;&gt;教程链接&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/08/02/Newbe-Mahua-Hot-Upgrade.html&quot;&gt;Newbe.Mahua 插件热更新&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/07/08/An-Interview-From-Oschina-For-Newbe-Mahua.html&quot;&gt;【开源访谈】对接 QQ 机器人平台，对接共同成长的开源社区（开源中国采访）&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/06/10/Begin-First-Plugin-With-Mahua-In-v1.9.html&quot;&gt;开始第一个QQ机器人【适用于v1.9及以上】&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html&quot;&gt;Newbe.Mahua.Samples.ApiExtensions 对IMahuaApi进行扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html&quot;&gt;Newbe.Mahua.Samples.LiveGirl 操作定时任务&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html&quot;&gt;Newbe.Mahua.Samples.Sqlite SQLite操作实例&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html&quot;&gt;Newbe.Mahua 测试与调试&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/24/Newbe-Mahua-Administration.html&quot;&gt;Newbe.Mahua 扩展设置中心&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;发布说明&quot;&gt;发布说明&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/08/02/Release-Notes-1-11-0.html&quot;&gt;Newbe.Mahua 1.11 支持热更新&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/06/24/Release-Notes-1-10-0.html&quot;&gt;Newbe.Mahua 1.10 全新日志查看器&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/06/10/Release-Notes-1-9-0.html&quot;&gt;Newbe.Mahua 1.9 引入 Session&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/04/21/Release-Notes-1-8-0.html&quot;&gt;Newbe.Mahua 1.8 消息发送Fluent API&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/01/07/Release-Notes-1-7-0.html&quot;&gt;Newbe.Mahua 1.7.0 支持API扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html&quot;&gt;Newbe.Mahua 1.6.0 开发便利性提升&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Thu, 02 Aug 2018 00:00:00 +0000</pubDate> <link>http://www.newbe.pro/docs/mahua/2018/08/02/Newbe-Mahua-Hot-Upgrade.html</link> <guid isPermaLink="true">http://www.newbe.pro/docs/mahua/2018/08/02/Newbe-Mahua-Hot-Upgrade.html</guid> <category>Mahua</category> <category>CQP</category> <category>Amanda</category> <category>MPQ</category> <category>SDK</category> <category>Docs</category> <category>Mahua</category> </item> <item> <title>【开源访谈】对接 QQ 机器人平台，对接共同成长的开源社区（开源中国采访）</title> <description>&lt;p&gt;本文是Newbe接受”开源中国”采访内容，原文链接：&lt;a href=&quot;https://www.oschina.net/question/3820517_2283450&quot;&gt;https://www.oschina.net/question/3820517_2283450&lt;/a&gt;&lt;/p&gt; &lt;p&gt;上个月末，用于对接 QQ 机器人平台的开发框架 Newbe.Mahua 发布了 1.10 版本，为开发者带来了完整的 Amanda 平台开发体验，一时间引起了热议。Newbe.Mahua 是一个基于 QQ 机器人平台的上层开发框架，优秀的跨平台能力让开发者只进行一次开发，便可以将代码适配到多个不同的 QQ 机器人平台上。&lt;/p&gt; &lt;p&gt;对第三方 QQ 机器人平台进行再封装，那么 Newbe.Mahua 的主要功能也就显而易见了，它可以实现灵活的 QQ 消息智能回复、QQ 群成员管理、指定 QQ 群成员发送消息等高级功能，满足用户的特定需求。我们采访了项目作者 Newbe，他为我们分享了开发 Newbe.Mahua 项目的心路历程，他表示开源社区是技术成长的美好模式。本文由采访整理而成。&lt;/p&gt; &lt;p&gt;项目地址：&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Gitee：&lt;a href=&quot;https://gitee.com/yks/Newbe.Mahua.Framework&quot;&gt;https://gitee.com/yks/Newbe.Mahua.Framework&lt;/a&gt;&lt;/li&gt; &lt;li&gt;GitHub：&lt;a href=&quot;https://github.com/newbe36524/Newbe.Mahua.Framework&quot;&gt;https://github.com/newbe36524/Newbe.Mahua.Framework&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;h1 id=&quot;站在巨人肩上newbemahua-离不开机器人平台&quot;&gt;站在巨人肩上，Newbe.Mahua 离不开机器人平台&lt;/h1&gt; &lt;p&gt;首先明确一点，Newbe.Mahua 本身并不是一个直接切入 QQ 底层的 QQ 机器人平台，它只是实现了与多个 QQ 机器人平台的对接能力。&lt;/p&gt; &lt;p&gt;说到 QQ 机器人，微信有一个常见的场景可以用来说明大家对”机器人”的迫切需求。微信火了之后，很多社区使用微信群进行在线课程教育、技术分享，而微信群功能有限，无法满足课程组织者的常规需求，比如，因为参加在线群课程的人数过多，而每个微信群又有人数限制，这就使得组织者需要在多个群中同步转发分享内容，而这样一个简单的操作实际执行起来却比较繁琐，浪费人力与时间。这样催生出了许许多多的微信群机器人，它们的任务通常很简单，最主要就是自动转发群消息，此外还有进行简单的群成员管理等能力。&lt;/p&gt; &lt;p&gt;然而，微信平台下是不允许出现第三方机器人工具的，我们可以看到很多群机器人被封杀，甚至开发者也受到处罚。QQ 上也是类似的情况，对于通信协议的严格管控，使得开发者只能通过非公开 API 的方式切入其底层，实现自己的需求。这也就是当下有一些 QQ 机器人平台存在的简单背景。&lt;/p&gt; &lt;p&gt;QQ 机器人平台通常是通过逆向 QQ 的通信协议来实现相关功能。逆向通信协议并利用通信协议实现相关功能的做法，是否合适、是否被允许，我不能给出具体的解释，并且这也不是本文讨论的内容。&lt;/p&gt; &lt;p&gt;但是，简单地讲，我认为对于这类型项目的限制还是存在的，大概分为两部分：&lt;/p&gt; &lt;ul&gt; &lt;li&gt;一部分是法律限制，这点容易理解，开发出国家或地区法律所禁止的插件功能，这必然是会被封杀的，比如博彩、反动、色情等相关内容。&lt;/li&gt; &lt;li&gt;第二部分是技术性的限制，例如高频发送消息、消息内容异常等等，这些技术性限制没有明确说明，但随着腾讯公司的检测机制不断强大，技术性的限制也势必会越来越严格。&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Newbe.Mahua 是一套提供了与多个 QQ 机器人平台进行对接的插件开发 SDK，它实质上是通过调用互联网上存在的一些 QQ 机器人平台的接口来实现相关功能的。因此本框架仅仅被定义为一个”用于开发插件的 SDK”，插件必须依附于这些 QQ 机器人平台才能运行，并且在 API 能力上也受限于特定的机器人平台。&lt;/p&gt; &lt;p&gt;Newbe.Mahua 是站在了巨人肩膀上，同时它也反过来为 QQ 机器人平台插上翅膀。&lt;/p&gt; &lt;h1 id=&quot;为什么开发这样一个框架&quot;&gt;为什么开发这样一个框架？&lt;/h1&gt; &lt;p&gt;Newbe.Mahua 框架采用 C# 语言实现，为开发者提供了统一的开发接口，使开发者不需要针对不同 QQ 机器人平台进行定制化对接，减轻了其工作负担。开发者可以使用本框架开发属于自己的 QQ 机器人平台插件，实现 QQ 消息智能回复、群成员管理等一系列功能。&lt;/p&gt; &lt;p&gt;这些是 Newbe.Mahua 框架能够满足的业务需求，然而这并不是当初开发这样一个框架的真正目的。&lt;/p&gt; &lt;p&gt;按照我的了解，现代业务系统开发中，B/S 和 C/S 架构仍然是无法逃开的系统结构形式。因此，以 Newbe.Mahua 项目所使用的 .Net 语言生态来讲，开发人员在入行之后，一般都会接触 B/S 或 C/S 架构的开发，然而这两者通常都需要一定的界面制作技术，也就是面向用户的相关技能。&lt;/p&gt; &lt;p&gt;这些内容当然是重要的，也是需要开发者去了解的。但是我一直认为，这不是技术人员应该学习的重点，在如今技术更新迭代如此快速的时代，”学会开发哲学，学会如何学习”才是成为不被淘汰的技术人员所应该具备的素质。&lt;/p&gt; &lt;p&gt;入行以来，我试图通过书籍、互联网去了解、去学习各种关于开发的知识，然而在实践过程中，我发现实际上人与人之间的交流沟通，更加能够丰富我们的知识储备，并让我们不断成长。而在技术领域，开源社区就是一个理想的模式。&lt;/p&gt; &lt;p&gt;为此，我开始着手创建 Newbe.Mahua 项目，并希望由此衍生出一个生态相对完善的开源社区。Newbe.Mahua 框架，或者说 QQ 机器人插件的开发是一个相对不要求界面制作技术的领域，首先这可以让我和参与项目的开发者把目光聚焦在我所说的”学会学习”上。而社区的意义在于让其中的开发者，能够在项目过程中，在一步步解决诸如”如何一套接口对接多个平台”、”如何制作简单的 IDE 插件”、”如何实现非托管代码与托管代码的调用”等问题的过程中，学习到开发的各种工具、过程和方法，让刚刚入行的程序员能够学会例如设计模式、单元测试、开发工具等一些进阶技能。&lt;/p&gt; &lt;p&gt;总结来说，建立围绕 .Net 开发的开源交流社区，这才是 Newbe.Mahua 项目的目的。&lt;/p&gt; &lt;h1 id=&quot;newbemahua2-个亮点4-大模块&quot;&gt;Newbe.Mahua，2 个亮点，4 大模块&lt;/h1&gt; &lt;p&gt;作为一个 SDK，针对功能、语言的关注点不同，市面上可用的同类型项目数不胜数。相比之下，Newbe.Mahua 的亮点主要可以归结为两点：&lt;/p&gt; &lt;p&gt;通过模块化的方式，实现了一套接口对接多个不同平台的能力，很大程度上简化了开发者的工作。 除了本身带来的业务价值，更重要的是建立的 .Net 交流社区，分析学习项目实现中的”工具、过程和方法”更是本项目的亮点。 Newbe.Mahua 目前为开发者提供了类库、构建工具、IDE 插件和文档四大块内容。项目的总体架构如下图所示：&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/newbe36524/Newbe.Mahua.Framework/master/i/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84.png&quot; alt=&quot;项目结构&quot; /&gt;&lt;/p&gt; &lt;p&gt;图中的 Newbe.Mahua 便是本 SDK 的核心内容，开发者可以基于本 SDK 开发实现满足自己业务需求的机器人平台插件。&lt;/p&gt; &lt;p&gt;Newbe.Mahua.Ipc 则是基于本 SDK 开发的一个插件，它提供其它进程跨进程调用机器人平台的能力。&lt;/p&gt; &lt;p&gt;若将 Newbe.Mahua 这一层展开来看，则包含下图所示内容：&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180708-001.png&quot; alt=&quot;Newbe.Mahua包结构&quot; /&gt;&lt;/p&gt; &lt;p&gt;其中各个模块的简介如下：&lt;/p&gt; &lt;h2 id=&quot;newbemahua&quot;&gt;Newbe.Mahua&lt;/h2&gt; &lt;p&gt;提供了接口层能力，本 SDK 提供的所有接口都定义于该类库中，开发者可以通过调用该层接口实现业务需求。&lt;/p&gt; &lt;h2 id=&quot;newbemahuapluginloader&quot;&gt;Newbe.Mahua.PluginLoader&lt;/h2&gt; &lt;p&gt;SDK 实现的核心所在。主要实现了几块内容： 通过模块化加载实现了针对不同平台实现层加载不通运行时类库的能力。 通过 AppDomain 实现了插件的托管代码与机器人平台的非托管代码进行通信的能力。&lt;/p&gt; &lt;h2 id=&quot;newbemahua-1&quot;&gt;Newbe.Mahua.*&lt;/h2&gt; &lt;p&gt;平台实现层，针对不同的机器人平台，实现了接口层的接口。&lt;/p&gt; &lt;h2 id=&quot;newbemahuatoolspsake&quot;&gt;Newbe.Mahua.Tools.Psake&lt;/h2&gt; &lt;p&gt;构建工具包，通过 Newbe.Build.Psake 实现了开发阶段的插件打包功能，减少开发难度。&lt;/p&gt; &lt;h2 id=&quot;newbemahuaapiextensions&quot;&gt;Newbe.Mahua.ApiExtensions&lt;/h2&gt; &lt;p&gt;平台 API 拓展类库，允许 SDK 的使用者添加或者替换接口的实现，从而实现一些原平台不具备或实现不佳的 API。&lt;/p&gt; &lt;h2 id=&quot;newbemahuaadministration&quot;&gt;Newbe.Mahua.Administration&lt;/h2&gt; &lt;p&gt;提供一个多平台统一的管理中心界面，可以进行挂载菜单和界面的管理中心。开发者可以通过实现特定的接口来实现一个跨平台的统一管理界面。 除了以上所描述的类库和工具，Newbe.Mahua 框架还包含以下这些内容：&lt;/p&gt; &lt;p&gt;Visual Studio 插件，提供了一些常用的开发模板 样例代码与特性帮助&lt;/p&gt; &lt;h1 id=&quot;与社区开发者一起成长&quot;&gt;与社区、开发者一起成长&lt;/h1&gt; &lt;p&gt;作为开源项目，开发过程中我们一直坚持”社区主导，社区优先”的原则，每个版本迭代，一般会按照社区所反馈 issue 的优先级，订立相关的里程碑。确保每一个里程碑的发布，都能给社区一个新特性的反馈和若干优化项。&lt;/p&gt; &lt;p&gt;在一步步开发、成长的过程中，作为管理人员，我的工作主要包括这些：&lt;/p&gt; &lt;ul&gt; &lt;li&gt;回复社区反馈&lt;/li&gt; &lt;li&gt;确定版本迭代计划&lt;/li&gt; &lt;li&gt;开发主体框架&lt;/li&gt; &lt;li&gt;开发 IDE 插件&lt;/li&gt; &lt;li&gt;编写开发文档&lt;/li&gt; &lt;li&gt;发布版本&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;在平时与社区成员的互动中，我不时为社区成员组织技术交流活动，整理学习成果，分享学习的阶段成果。&lt;/p&gt; &lt;p&gt;而整个社区作为一个整体，其中的成员们也在不断付出，社区成员 Traceless 曾多次为改版后的 SDK 录制教学视频并校对开发教程；Byboy 更是在自己的直播过程中推荐了本 SDK。还有更多的社区开发者，他们热心解答他人的技术疑问。&lt;/p&gt; &lt;p&gt;其中有一件事让我印象深刻，它也让我看到了这个社区的整体性，大家为了同一个目标在集思广益。&lt;/p&gt; &lt;p&gt;当时我们是被的问题困扰住了。程序集重定向，是指在 .Net 开发过程中，由于程序集的版本依赖版本不同，而需要进行重定向到特定版本的功能，这是 .Net 开发的原生能力。举个简单的例子，A 程序集依赖了 C 程序集的 10 版本，B 程序集依赖了 C 程序集的 8 版本，而在插件当中需要依赖 A/B/C 三个程序集，因此需要对 C 程序集的版本配置重定向。&lt;/p&gt; &lt;p&gt;通常，这个问题可以通过直接在程序集的 App.config 文件中配置解决，然而，机器人平台都是非托管程序，因此无法直接加载 App.config 文件，这需要另辟蹊径。经过社区的激烈讨论，有些人提出的方案都因为有瑕疵而被否决了，而其中一位名为月落的社区开发者提出了”使用单独的 AppDomain 来单独加载插件程序集”的方案，得到了社区的一致认可，最终经过验证，这是一种可行的方案。&lt;/p&gt; &lt;p&gt;在这个过程中，社区开发者的热情和努力令我感动。&lt;/p&gt; &lt;p&gt;经过近 16 个月的发展，Newbe.Mahua 项目和社区在一步步的成长，项目从最初针对特定平台的简易 SDK，发展到如今的四大相对比较丰富的模块，功能也不断完善；而社区，从最开始只有我一个人，发展到今天 200+ 成员，核心开发人员十余人。大家欢聚在一起，互相帮助，互相学习，分享自己从业领域的相关经验，也不断帮助其他人解决技术与非技术问题，在社区的发展中成长。&lt;/p&gt; &lt;p&gt;至于 Newbe.Mahua 的使用情况，它的影响力方面，因为一般使用这种 SDK 都不会公开出来，所以具体案例不好介绍，不过，通过在 GitHub 上进行代码查找，能够找到一些使用该框架的例子：&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;https://github.com/evesgf/LarkBot&quot;&gt;https://github.com/evesgf/LarkBot&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://github.com/traceless0929/Site.Traceless.SmartT&quot;&gt;https://github.com/traceless0929/Site.Traceless.SmartT&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://github.com/Cyl18/CardSharp&quot;&gt;https://github.com/Cyl18/CardSharp&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://github.com/ly123567/CQP-LiveSignForDouyu&quot;&gt;https://github.com/ly123567/CQP-LiveSignForDouyu&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://github.com/chenxuuu/receiver-meow&quot;&gt;https://github.com/chenxuuu/receiver-meow&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;另外，相关的机器人平台上，也可以看到相应的开放插件，感兴趣的读者可以自行前往相应的机器人平台官网进行了解。&lt;/p&gt; &lt;p&gt;目前 Newbe.Mahua 在各代码托管平台都有一百多的 star，已知基于该 SDK 开发的插件十余个，虽然不算多，但是这也是一步步积累下来的成绩，并且我们相信它会不断发展得更好，按照社区目前的计划，该项目后续的 roadmap 大致如下：&lt;/p&gt; &lt;p&gt;适配更多的机器人平台 编写项目实现技术细节的说明文档 完善 Newbe.Mahua.Ipc 而未来，伴随着社区自身的不断成长，我很期待我们将会有更多的开发创造不断涌现。技术的发展是永无止境的，在有限的生命之中，与有相同奋进目标的人为伍，一起学习、进步，共同缔造优秀的成果是一件其乐无穷的事情。Newbe.Mahua 对接的是 QQ 机器人平台，同时它也对接了一个共同成长的开源社区。&lt;/p&gt; &lt;h1 id=&quot;嘉宾介绍&quot;&gt;嘉宾介绍&lt;/h1&gt; &lt;p&gt;Newbe，C# 开发者，当初单纯觉得 VS 好用就学了 C#。正在为了成为真正的架构师而不断努力。自带 Slogan：Newbe 便是新生，唯有不断蜕变才能焕然新生。&lt;/p&gt; </description> <pubDate>Sun, 08 Jul 2018 00:00:00 +0000</pubDate> <link>http://www.newbe.pro/docs/mahua/2018/07/08/An-Interview-From-Oschina-For-Newbe-Mahua.html</link> <guid isPermaLink="true">http://www.newbe.pro/docs/mahua/2018/07/08/An-Interview-From-Oschina-For-Newbe-Mahua.html</guid> <category>Mahua</category> <category>SDK</category> <category>Docs</category> <category>Mahua</category> </item> <item> <title>Newbe.Mahua 1.10 全新日志查看器</title> <description>&lt;p&gt;从此版本开始，全新的 Amanda 授权机制，全新的日志展示方案，全新的样例代码。&lt;/p&gt; &lt;h1 id=&quot;版本亮点&quot;&gt;版本亮点&lt;/h1&gt; &lt;h2 id=&quot;全新的-amanda-授权机制&quot;&gt;全新的 Amanda 授权机制&lt;/h2&gt; &lt;p&gt;Amanda 平台 SDK 已经升级到版本3，该版本采用了全新的授权码机制，实现了插件与主体框架的安全通信。&lt;/p&gt; &lt;p&gt;本SDK也全新升级，为开发者带来完整的 Amanda 平台开发体验。&lt;/p&gt; &lt;h2 id=&quot;全新日志展示方案&quot;&gt;全新日志展示方案&lt;/h2&gt; &lt;p&gt;以往，开发者只能通过日志文件查看日志，不易查阅问题。&lt;/p&gt; &lt;p&gt;现在，开发者可以使用 Log4View 与本开发框架对接，实现日志在 Log4View 上的实时查看。&lt;/p&gt; &lt;p&gt;开发者可以进入 &lt;a href=&quot;http://www.log4view.com/log4view/&quot;&gt;http://www.log4view.com/log4view/&lt;/a&gt; 下载最新的 Log4View 并安装。&lt;/p&gt; &lt;p&gt;添加 Network Receiver 并按照如下图设置：&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180624-001.png&quot; alt=&quot;Network Receiver基础配置&quot; /&gt;&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180624-002.png&quot; alt=&quot;Network Receiver编码设置&quot; /&gt;&lt;/p&gt; &lt;p&gt;如此，便可以实时查看日志，效果如下：&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180624-003.png&quot; alt=&quot;Log4View效果&quot; /&gt;&lt;/p&gt; &lt;h2 id=&quot;全新样例代码&quot;&gt;全新样例代码&lt;/h2&gt; &lt;p&gt;OkexRobot，与 OKEX 进行API对接，实现订单成交监控、资产变更跟踪、订单查询、资产查询功能。开发者可以按照此样例进行开发。&lt;/p&gt; &lt;ul&gt; &lt;li&gt;每1分钟定时获取当前资产状态，并记录在 App_Data/userAssets.db 中&lt;/li&gt; &lt;li&gt;每天 5/11/17/23 时，会定时汇报资产变更情况，并计算过去6小时增长量&lt;/li&gt; &lt;li&gt;每隔 5 分钟检测订单成交情况，汇报成交和撤销的订单。&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;详细实现代码，&lt;a href=&quot;https://github.com/Newbe36524/Newbe.Mahua.Framework/tree/master/src/Newbe.Mahua.Samples.OkexRobot&quot;&gt;点击此处链接进行查看&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;升级注意&quot;&gt;升级注意&lt;/h1&gt; &lt;p&gt;从 1.9 版本直接更新全部的 Newbe.Mahua.* nuget 包，重新生成便可以。&lt;/p&gt; &lt;p&gt;升级过程中出现需要覆盖文件的提示，请选择同意。&lt;/p&gt; &lt;p&gt;VS插件更新只需要按照VS提示进行操作即可。&lt;/p&gt; &lt;hr /&gt; &lt;h1 id=&quot;教程链接&quot;&gt;教程链接&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/08/02/Newbe-Mahua-Hot-Upgrade.html&quot;&gt;Newbe.Mahua 插件热更新&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/07/08/An-Interview-From-Oschina-For-Newbe-Mahua.html&quot;&gt;【开源访谈】对接 QQ 机器人平台，对接共同成长的开源社区（开源中国采访）&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/06/10/Begin-First-Plugin-With-Mahua-In-v1.9.html&quot;&gt;开始第一个QQ机器人【适用于v1.9及以上】&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html&quot;&gt;Newbe.Mahua.Samples.ApiExtensions 对IMahuaApi进行扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html&quot;&gt;Newbe.Mahua.Samples.LiveGirl 操作定时任务&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html&quot;&gt;Newbe.Mahua.Samples.Sqlite SQLite操作实例&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html&quot;&gt;Newbe.Mahua 测试与调试&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/24/Newbe-Mahua-Administration.html&quot;&gt;Newbe.Mahua 扩展设置中心&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;发布说明&quot;&gt;发布说明&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/08/02/Release-Notes-1-11-0.html&quot;&gt;Newbe.Mahua 1.11 支持热更新&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/06/24/Release-Notes-1-10-0.html&quot;&gt;Newbe.Mahua 1.10 全新日志查看器&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/06/10/Release-Notes-1-9-0.html&quot;&gt;Newbe.Mahua 1.9 引入 Session&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/04/21/Release-Notes-1-8-0.html&quot;&gt;Newbe.Mahua 1.8 消息发送Fluent API&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/01/07/Release-Notes-1-7-0.html&quot;&gt;Newbe.Mahua 1.7.0 支持API扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html&quot;&gt;Newbe.Mahua 1.6.0 开发便利性提升&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Sun, 24 Jun 2018 00:00:00 +0000</pubDate> <link>http://www.newbe.pro/docs/mahua/releasenodes/2018/06/24/Release-Notes-1-10-0.html</link> <guid isPermaLink="true">http://www.newbe.pro/docs/mahua/releasenodes/2018/06/24/Release-Notes-1-10-0.html</guid> <category>Mahua</category> <category>SDK</category> <category>Docs</category> <category>Mahua</category> <category>ReleaseNodes</category> </item> <item> <title>Newbe.Mahua 1.9 引入 Session</title> <description>&lt;p&gt;从此版本开始，增加 MahuaRobotManager 和 RobotSession 机制，支持在 MahuaEvent 之外调用机器人API。&lt;/p&gt; &lt;h1 id=&quot;版本亮点&quot;&gt;版本亮点&lt;/h1&gt; &lt;h2 id=&quot;解决无法在-mahuaevent-线程之外调用-imahuaapi-的问题&quot;&gt;解决无法在 MahuaEvent 线程之外调用 IMahuaApi 的问题&lt;/h2&gt; &lt;p&gt;以往：只能在 MahuaEvent 中通过注入 IMahuaApi 来调用 API。&lt;/p&gt; &lt;p&gt;现在：通过 MahuaRobotManager 获得 Session 便可以在 Session 中实现对机器人API的调用。&lt;/p&gt; &lt;div class=&quot;language-csharp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// 在 Task 中发送消息&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Task&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Factory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;StartNew&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;robotSession&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MahuaRobotManager&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Instance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;CreateSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;api&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;robotSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MahuaApi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;SendPrivateMessage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;415206409&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;异步的嘤嘤嘤&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;由此，配合 Timer 等方法便可以实现定时机器人控制。&lt;/p&gt; &lt;h1 id=&quot;升级注意&quot;&gt;升级注意&lt;/h1&gt; &lt;p&gt;从 1.8 版本直接更新全部的 Newbe.Mahua.* nuget 包，重新生成便可以。&lt;/p&gt; &lt;p&gt;升级过程中出现需要覆盖文件的提示，请选择同意。&lt;/p&gt; &lt;p&gt;VS插件更新只需要按照VS提示进行操作即可。&lt;/p&gt; &lt;p&gt;框架不再依赖&lt;code class=&quot;highlighter-rouge&quot;&gt;NuGet.CommandLine&lt;/code&gt;包，可以删除。&lt;/p&gt; &lt;hr /&gt; &lt;h1 id=&quot;教程链接&quot;&gt;教程链接&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/08/02/Newbe-Mahua-Hot-Upgrade.html&quot;&gt;Newbe.Mahua 插件热更新&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/07/08/An-Interview-From-Oschina-For-Newbe-Mahua.html&quot;&gt;【开源访谈】对接 QQ 机器人平台，对接共同成长的开源社区（开源中国采访）&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/06/10/Begin-First-Plugin-With-Mahua-In-v1.9.html&quot;&gt;开始第一个QQ机器人【适用于v1.9及以上】&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html&quot;&gt;Newbe.Mahua.Samples.ApiExtensions 对IMahuaApi进行扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html&quot;&gt;Newbe.Mahua.Samples.LiveGirl 操作定时任务&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html&quot;&gt;Newbe.Mahua.Samples.Sqlite SQLite操作实例&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html&quot;&gt;Newbe.Mahua 测试与调试&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/24/Newbe-Mahua-Administration.html&quot;&gt;Newbe.Mahua 扩展设置中心&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;发布说明&quot;&gt;发布说明&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/08/02/Release-Notes-1-11-0.html&quot;&gt;Newbe.Mahua 1.11 支持热更新&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/06/24/Release-Notes-1-10-0.html&quot;&gt;Newbe.Mahua 1.10 全新日志查看器&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/06/10/Release-Notes-1-9-0.html&quot;&gt;Newbe.Mahua 1.9 引入 Session&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/04/21/Release-Notes-1-8-0.html&quot;&gt;Newbe.Mahua 1.8 消息发送Fluent API&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/01/07/Release-Notes-1-7-0.html&quot;&gt;Newbe.Mahua 1.7.0 支持API扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html&quot;&gt;Newbe.Mahua 1.6.0 开发便利性提升&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Sun, 10 Jun 2018 00:00:00 +0000</pubDate> <link>http://www.newbe.pro/docs/mahua/releasenodes/2018/06/10/Release-Notes-1-9-0.html</link> <guid isPermaLink="true">http://www.newbe.pro/docs/mahua/releasenodes/2018/06/10/Release-Notes-1-9-0.html</guid> <category>Mahua</category> <category>SDK</category> <category>Docs</category> <category>Mahua</category> <category>ReleaseNodes</category> </item> <item> <title>开始第一个QQ机器人【适用于v1.9及以上】</title> <description>&lt;p&gt;本示例将会使用”嘤鹉学舌”这个小插件的实现来演示如何使用&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua&lt;/code&gt;实现第一个机器人插件。&lt;/p&gt; &lt;h1 id=&quot;插件功能&quot;&gt;插件功能&lt;/h1&gt; &lt;p&gt;自动将发送者的消息回发给发送人，嘤鹉（Parrot，其实是说嘤嘤嘤怪）学舌。&lt;/p&gt; &lt;h1 id=&quot;开发环境要求&quot;&gt;开发环境要求&lt;/h1&gt; &lt;ul&gt; &lt;li&gt;.Net Framework 4.5.2 及以上&lt;/li&gt; &lt;li&gt;Visual Studio 2017（VS2015 update 3 理论上也能够开发，但开发遇到的问题，需自行解决）&lt;/li&gt; &lt;li&gt;powershell 3.0及以上&lt;/li&gt; &lt;/ul&gt; &lt;h1 id=&quot;设置powershell执行策略限制&quot;&gt;设置Powershell执行策略限制&lt;/h1&gt; &lt;p&gt;参考链接：&lt;a href=&quot;http://www.pstips.net/powershell-create-and-start-scripts.html&quot;&gt;http://www.pstips.net/powershell-create-and-start-scripts.html&lt;/a&gt;&lt;/p&gt; &lt;p&gt;简单来说，使用管理员权限在cmd中运行以下命令:&lt;/p&gt; &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; powershell &lt;span class=&quot;nt&quot;&gt;-command&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Set-ExecutionPolicy RemoteSigned -Force&quot;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;h1 id=&quot;安装vs扩展&quot;&gt;安装VS扩展&lt;/h1&gt; &lt;p&gt;从VS扩展商店下载最新的VS扩展，下载地址为：&lt;a href=&quot;https://marketplace.visualstudio.com/items?itemName=Newbe36524.NewbeMahuaVsExtensions&quot;&gt;https://marketplace.visualstudio.com/items?itemName=Newbe36524.NewbeMahuaVsExtensions&lt;/a&gt;&lt;/p&gt; &lt;p&gt;若出现下载不畅通，也可以通过加入技术交流群，在群文件中进行下载。&lt;a href=&quot;https://jq.qq.com/?_wv=1027&amp;amp;k=4AMMCTx&quot;&gt;点击加入Newbe.Mahua群【610394020】&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;strong&gt;安装过程可能需要花费若干分钟，需耐心等待。&lt;/strong&gt;&lt;/p&gt; &lt;p&gt;&lt;strong&gt;安装完毕，需要重启所有VS方可生效。&lt;/strong&gt;&lt;/p&gt; &lt;h1 id=&quot;新建项目&quot;&gt;新建项目&lt;/h1&gt; &lt;p&gt;项目名称&lt;strong&gt;至少&lt;/strong&gt;需要包含三部分，形如AAA.BBB.CCC的形式。&lt;/p&gt; &lt;p&gt;新建项目时，可以根据”希望支持的插件平台”来选择特定后缀的项目模板来安装。&lt;/p&gt; &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.Plugins.Template&lt;/code&gt;是安装了所有平台支持包的项目模板。本示例将使用此项目模板进行演示。&lt;/p&gt; &lt;p&gt;本插件项目名称使用&lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe.Mahua.Plugins.Parrot&lt;/code&gt;。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171216-001.png&quot; alt=&quot;新建项目&quot; /&gt;&lt;/p&gt; &lt;h1 id=&quot;修改插件基本信息&quot;&gt;修改插件基本信息&lt;/h1&gt; &lt;p&gt;打开&lt;code class=&quot;highlighter-rouge&quot;&gt;PluginInfo.cs&lt;/code&gt;文件，按照实际需求和注释内容进行修改。&lt;/p&gt; &lt;div class=&quot;language-csharp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;k&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Newbe.Mahua.Plugins.Parrot&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// 本插件的基本信息&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PluginInfo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IPluginInfo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// 版本号，建议采用 主版本.次版本.修订号 的形式&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Version&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;1.0.0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// 插件名称&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;嘤鹉学舌&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// 作者名称&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Author&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Newbe&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// 插件Id，用于唯一标识插件产品的Id，至少包含 AAA.BBB.CCC 三个部分&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Newbe.Mahua.Plugins.Parrot&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// 插件描述&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Description&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;嘤鹉学舌，是一个使用Mahua框架开发的第一个插件。该插件实现将好友的私聊消息回发给好友的功能。&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;h1 id=&quot;添加接收好友消息事件代码实现&quot;&gt;添加”接收好友消息事件”代码实现&lt;/h1&gt; &lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;MahuaEvents&lt;/code&gt;处右键，选择”添加-&amp;gt;新建项”。&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;MahuaEvents文件夹是本SDK建议将事件放置的文件夹位置。也可以不接受建议而添加在其他地方。&lt;/p&gt; &lt;/blockquote&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171216-002.png&quot; alt=&quot;添加-&amp;gt;新建项&quot; /&gt;&lt;/p&gt; &lt;p&gt;如下图所示，选择”来自好友的私聊消息接收事件”。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171217-001.png&quot; alt=&quot;新建好友消息处理事件&quot; /&gt;&lt;/p&gt; &lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;PrivateMessageFromFriendReceivedMahuaEvent.cs&lt;/code&gt;中，调用&lt;code class=&quot;highlighter-rouge&quot;&gt;IMahuaApi&lt;/code&gt;，将好友消息回发给好友，实现嘤鹉学舌的效果。&lt;/p&gt; &lt;div class=&quot;language-csharp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Newbe.Mahua.MahuaEvents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;System.Threading.Tasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Newbe.Mahua.Plugins.Parrot.MahuaEvents&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// 来自好友的私聊消息接收事件&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PrivateMessageFromFriendReceivedMahuaEvent&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IPrivateMessageFromFriendReceivedMahuaEvent&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;readonly&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IMahuaApi&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_mahuaApi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;PrivateMessageFromFriendReceivedMahuaEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IMahuaApi&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mahuaApi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_mahuaApi&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mahuaApi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ProcessFriendMessage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PrivateMessageFromFriendReceivedContext&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 戳一戳&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_mahuaApi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;SendPrivateMessage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FromQq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Shake&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 嘤嘤嘤，换行，重复消息&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_mahuaApi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;SendPrivateMessage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FromQq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;嘤嘤嘤：&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Newline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 异步发送消息，不能使用 _mahuaApi 实例，需要另外开启Session&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Task&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Factory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;StartNew&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;robotSession&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MahuaRobotManager&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Instance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;CreateSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;api&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;robotSession&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MahuaApi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;SendPrivateMessage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FromQq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;异步的嘤嘤嘤&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;h1 id=&quot;在模块中注册事件&quot;&gt;在模块中注册事件&lt;/h1&gt; &lt;p&gt;打开&lt;code class=&quot;highlighter-rouge&quot;&gt;MahuaModule.cs&lt;/code&gt;文件，在&lt;code class=&quot;highlighter-rouge&quot;&gt;MahuaEventsModule&lt;/code&gt;中注册刚刚添加的&lt;code class=&quot;highlighter-rouge&quot;&gt;PrivateMessageFromFriendReceivedMahuaEvent&lt;/code&gt;。&lt;/p&gt; &lt;div class=&quot;language-csharp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Autofac&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Newbe.Mahua.MahuaEvents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Newbe.Mahua.Plugins.Parrot.MahuaEvents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Newbe.Mahua.Plugins.Parrot&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// Ioc容器注册&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MahuaModule&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IMahuaModule&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;GetModules&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 可以按照功能模块进行划分，此处可以改造为基于文件配置进行构造。实现模块化编程。&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;PluginModule&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;MahuaEventsModule&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// 基本模块&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PluginModule&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Module&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ContainerBuilder&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 将实现类与接口的关系注入到Autofac的Ioc容器中。如果此处缺少注册将无法启动插件。&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 注意！！！PluginInfo是插件运行必须注册的，其他内容则不是必要的！！！&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RegisterType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PluginInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;As&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IPluginInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;();&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;see cref=&quot;IMahuaEvent&quot;/&amp;gt; 事件处理模块&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MahuaEventsModule&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Module&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ContainerBuilder&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 将需要监听的事件注册，若缺少此注册，则不会调用相关的实现类&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RegisterType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PrivateMessageFromFriendReceivedMahuaEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;As&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IPrivateMessageFromFriendReceivedMahuaEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;();&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;h1 id=&quot;生成与打包&quot;&gt;生成与打包&lt;/h1&gt; &lt;p&gt;生成项目，然后双击位于项目根目录的&lt;code class=&quot;highlighter-rouge&quot;&gt;build.bat&lt;/code&gt;文件。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171217-002.png&quot; alt=&quot;build.bat执行成功&quot; /&gt;&lt;/p&gt; &lt;h1 id=&quot;复制文件到机器人平台&quot;&gt;复制文件到机器人平台&lt;/h1&gt; &lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;bin&lt;/code&gt;目录下会按照当前安装的平台生成相应的目录。本示例将会生成CQP、Amanda和MPQ三个目录。&lt;/p&gt; &lt;p&gt;&lt;strong&gt;分别将三个文件夹下的所有文件和文件夹都复制到对应的机器人平台根目录&lt;/strong&gt;。&lt;/p&gt; &lt;p&gt;各机器人软件下载地址：&lt;/p&gt; &lt;table&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;名称&lt;/th&gt; &lt;th&gt;地址&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt;CQP&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;https://cqp.cc/&quot;&gt;https://cqp.cc/&lt;/a&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;MPQ&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;https://f.mypcqq.cc/thread-2327-1-1.html&quot;&gt;https://f.mypcqq.cc/thread-2327-1-1.html&lt;/a&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Amanda&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;http://www.52chat.cc/&quot;&gt;http://www.52chat.cc/&lt;/a&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;h1 id=&quot;启用插件&quot;&gt;启用插件&lt;/h1&gt; &lt;p&gt;各个机器人平台的启用方式各不相同。&lt;/p&gt; &lt;h2 id=&quot;cqp&quot;&gt;CQP&lt;/h2&gt; &lt;p&gt;按照下图所示，开启开发者模式。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20171218-001.jpg&quot; alt=&quot;开启开发者模式&quot; /&gt;&lt;/p&gt; &lt;p&gt;打开插件管理将插件启用。&lt;/p&gt; &lt;h2 id=&quot;mpq&quot;&gt;MPQ&lt;/h2&gt; &lt;p&gt;打开插件管理将插件启用。&lt;/p&gt; &lt;h2 id=&quot;amanda&quot;&gt;Amanda&lt;/h2&gt; &lt;p&gt;打开插件管理将插件启用。&lt;/p&gt; &lt;h1 id=&quot;成功&quot;&gt;成功！&lt;/h1&gt; &lt;p&gt;发送消息给机器人，你就会收到机器人回发的信息。&lt;/p&gt; &lt;blockquote&gt; &lt;p&gt;机器人插件启动可能需要一段时间，并且大多数平台都会丢弃离线信息，可能需要等待一会儿在发送。&lt;/p&gt; &lt;/blockquote&gt; &lt;hr /&gt; &lt;h1 id=&quot;教程链接&quot;&gt;教程链接&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/08/02/Newbe-Mahua-Hot-Upgrade.html&quot;&gt;Newbe.Mahua 插件热更新&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/07/08/An-Interview-From-Oschina-For-Newbe-Mahua.html&quot;&gt;【开源访谈】对接 QQ 机器人平台，对接共同成长的开源社区（开源中国采访）&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/06/10/Begin-First-Plugin-With-Mahua-In-v1.9.html&quot;&gt;开始第一个QQ机器人【适用于v1.9及以上】&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2018/01/07/Newbe-Mahua-ApiExtensions.html&quot;&gt;Newbe.Mahua.Samples.ApiExtensions 对IMahuaApi进行扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html&quot;&gt;Newbe.Mahua.Samples.LiveGirl 操作定时任务&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html&quot;&gt;Newbe.Mahua.Samples.Sqlite SQLite操作实例&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html&quot;&gt;Newbe.Mahua 测试与调试&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/2017/12/24/Newbe-Mahua-Administration.html&quot;&gt;Newbe.Mahua 扩展设置中心&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;发布说明&quot;&gt;发布说明&lt;/h1&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/08/02/Release-Notes-1-11-0.html&quot;&gt;Newbe.Mahua 1.11 支持热更新&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/06/24/Release-Notes-1-10-0.html&quot;&gt;Newbe.Mahua 1.10 全新日志查看器&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/06/10/Release-Notes-1-9-0.html&quot;&gt;Newbe.Mahua 1.9 引入 Session&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/04/21/Release-Notes-1-8-0.html&quot;&gt;Newbe.Mahua 1.8 消息发送Fluent API&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2018/01/07/Release-Notes-1-7-0.html&quot;&gt;Newbe.Mahua 1.7.0 支持API扩展&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html&quot;&gt;Newbe.Mahua 1.6.0 开发便利性提升&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Sun, 10 Jun 2018 00:00:00 +0000</pubDate> <link>http://www.newbe.pro/docs/mahua/2018/06/10/Begin-First-Plugin-With-Mahua-In-v1.9.html</link> <guid isPermaLink="true">http://www.newbe.pro/docs/mahua/2018/06/10/Begin-First-Plugin-With-Mahua-In-v1.9.html</guid> <category>Mahua</category> <category>CQP</category> <category>Amanda</category> <category>MPQ</category> <category>SDK</category> <category>Docs</category> <category>Mahua</category> </item> <item> <title>免费构建自己的博客-进一步丰富博客</title> <description>&lt;p&gt;经过前几个部分的实践，读者基本已经了解了整个站点的制作过程。本节，将会把建站中的其他问题进行总结说明。&lt;/p&gt; &lt;p&gt;相关的内容，操作细节没有具体说明，读者可以自行探究。&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;https://jq.qq.com/?_wv=1027&amp;amp;k=57hRe5m&quot; target=&quot;_blank&quot;&gt;点击进入交流群也可以下载，群号:553474855&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;rss&quot;&gt;RSS&lt;/h1&gt; &lt;p&gt;RSS （简易信息聚合），简单来说，就是将站点中的内容存储在 XML 中，然后将此 XML 公开出去。&lt;/p&gt; &lt;p&gt;相应存在一些 RSS 订阅工具，能够订阅公开的 XML 链接。&lt;/p&gt; &lt;p&gt;如此这般，到博客内容更新的时候，订阅者就能直接通过订阅工具阅读新的博客内容。&lt;/p&gt; &lt;p&gt;此部分内容，本站点通过源代码中的 feed.xml 文件实现了生成 RSS 需要的XML，读者可以参考此部分内容。&lt;/p&gt; &lt;h1 id=&quot;站长服务&quot;&gt;站长服务&lt;/h1&gt; &lt;p&gt;一般的在线站点，都会通过一些站长服务，实现对站点的流量监控功能。比较常见的包括但不限于以下这些：&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;http://tool.chinaz.com/&quot;&gt;http://tool.chinaz.com/&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://analytics.google.com/&quot;&gt;https://analytics.google.com/&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://ziyuan.baidu.com/dashboard/index&quot;&gt;https://ziyuan.baidu.com/dashboard/index&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;每个工具采用的对接方案不近相同，读者可以根据自己的需要对接这些站长服务。&lt;/p&gt; &lt;h1 id=&quot;icp-备案&quot;&gt;ICP 备案&lt;/h1&gt; &lt;p&gt;如果将站点托管在 Github 或者其他中国大陆之外的服务商，不需要进行 ICP 备案。&lt;/p&gt; &lt;p&gt;不过，从中国境内访问站点就相对速度较慢。&lt;/p&gt; &lt;p&gt;因此，作者建议将站点部署到中国大陆境内的服务商。&lt;/p&gt; &lt;p&gt;按照中国大陆的法律法规要求，所有托管在中国大陆境内服务商的网站，都需要进行 ICP 备案。&lt;/p&gt; &lt;p&gt;一般，主流的云服务商比如：阿里云、新浪云、腾讯云等都提供了线上直接备案的方法。&lt;/p&gt; &lt;p&gt;详细可以咨询相应的服务商客服，进行 ICP 备案。ICP 备案并不复杂，一般都会成功，不必太过担心。&lt;/p&gt; &lt;p&gt;本站点托管于新浪云之上，为了获得免费备案服务，充值了 200 元人民币。&lt;/p&gt; &lt;p&gt;此 200 元人民币除了获得了免费备案服务，其对应的”云豆”能够支撑本站点在新浪云上运行6-7年左右。&lt;/p&gt; &lt;p&gt;相对于大多数服务商属于较为省钱的方案，若读者有兴趣，可以通过右侧链接，注册体验：&lt;a href=&quot;http://www.sinacloud.com/public/login/inviter/gaimrn-mddmzeKWrhKWrZoCIiWp9eIFnfrK2dg.html&quot;&gt;http://www.sinacloud.com/public/login/inviter/gaimrn-mddmzeKWrhKWrZoCIiWp9eIFnfrK2dg.html&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;cdn&quot;&gt;CDN&lt;/h1&gt; &lt;p&gt;CDN（内容分发网络），能够实现对站点静态资源进行加速的功能。&lt;/p&gt; &lt;p&gt;由于采用本方案建立的站点是完全静态的，因此，可以将本站点所有的内容都通过 CDN 进行加速。&lt;/p&gt; &lt;p&gt;针对中国境内，提供 CDN 服务的服务商很多，本站点采用的是”七牛”的 CDN 服务。&lt;/p&gt; &lt;p&gt;七牛提供每个月 10G 的流量，对于小型博客而言绰绰有余。&lt;/p&gt; &lt;p&gt;并且通过 CDN 可以减少对源服务器的访问流量，更加节省了流量费用。&lt;/p&gt; &lt;p&gt;读者可以通过右侧链接，注册体验：&lt;a href=&quot;https://portal.qiniu.com/signup?code=3lh1xg5arudea&quot;&gt;https://portal.qiniu.com/signup?code=3lh1xg5arudea&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;评论系统&quot;&gt;评论系统&lt;/h1&gt; &lt;p&gt;本站点采用是全静态的方案，进行不能自己实现评论系统。&lt;/p&gt; &lt;p&gt;不过也可以通过一些可以直接对接的评论系统，为自己的博客引入评论系统。&lt;/p&gt; &lt;p&gt;本站点采用的是新浪的”畅言”作为评论系统，该评论系统需要域名具备 ICP 备案。&lt;/p&gt; &lt;p&gt;若希望对接不需要 ICP 备案就能够使用的评论系统，可以尝试使用某大神的方案：&lt;a href=&quot;https://www.cnblogs.com/jacobpan/archive/2017/07/18/7200512.html&quot;&gt;https://www.cnblogs.com/jacobpan/archive/2017/07/18/7200512.html&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;seo&quot;&gt;SEO&lt;/h1&gt; &lt;p&gt;SEO（搜索引擎优化），是指对站点进行优化，以便搜索引擎能够收录自己的网站，以增加网站在搜索引擎中出现的几率。&lt;/p&gt; &lt;p&gt;此方面需要涉及的内容非常多，建议富有余力，并且要求较高的读者进行尝试。&lt;/p&gt; &lt;p&gt;本站点只采用了一些简单的插件和方案进行 SEO，详细的做法，读者可以通过插件列表查看。&lt;/p&gt; &lt;hr /&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/04/28/Environment-For-Building-Jekyll-Blog.html&quot;&gt;免费构建自己的博客-开发环境安装&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/04/29/Ready-To-Write-Your-First-Blog-Post.html&quot;&gt;免费构建自己的博客-编写第一篇博客&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/04/30/Manage-Your-Blog-Code-And-Publish-On-Github.html&quot;&gt;免费构建自己的博客-管理博客代码与发布到Github&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/05/26/Show-Me-More-Jekyll.html&quot;&gt;免费构建自己的博客-Jekyll进阶&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/05/27/More-Plugin-More-Fun.html&quot;&gt;免费构建自己的博客-进一步丰富博客&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Sun, 27 May 2018 00:00:00 +0000</pubDate> <link>http://www.newbe.pro/web/2018/05/27/More-Plugin-More-Fun.html</link> <guid isPermaLink="true">http://www.newbe.pro/web/2018/05/27/More-Plugin-More-Fun.html</guid> <category>jekyll</category> <category>web</category> <category>web</category> </item> <item> <title>免费构建自己的博客-Jekyll进阶</title> <description>&lt;p&gt;Jekyll 是采用Ruby语言实现的将纯文本转换为静态博客网站的利器，也是本站点的关键技术。本文将对Jekyll中的进阶内容进行说明。&lt;/p&gt; &lt;h1 id=&quot;基本过程&quot;&gt;基本过程&lt;/h1&gt; &lt;blockquote&gt; &lt;p&gt;Jekyll 是一个简单的博客形态的静态站点生产机器。它有一个模版目录，其中包含原始文本格式的文档，通过一个转换器（如 Markdown）和我们的 Liquid 渲染器转化成一个完整的可发布的静态网站，你可以发布在任何你喜爱的服务器上。Jekyll 也可以运行在 GitHub Page 上，也就是说，你可以使用 GitHub 的服务来搭建你的项目页面、博客或者网站，而且是完全免费的。（引用自 &lt;a href=&quot;http://jekyllcn.com/docs/home/&quot;&gt;http://jekyllcn.com/docs/home/&lt;/a&gt;）&lt;/p&gt; &lt;/blockquote&gt; &lt;p&gt;由于本教程通过 Docker 技术直接在容器中运行 Jekyll 环境，因此读者不需要过多的研究 Jekyll 的运行环境要求。&lt;/p&gt; &lt;p&gt;Jekyll 的入门材料非常多，其中针对官网进行汉化翻译的 &lt;a href=&quot;http://jekyllcn.com/docs/home/&quot;&gt;http://jekyllcn.com/docs/home/&lt;/a&gt; 写的非常全面，因此本文就不全面介绍。以下只对主要的部分进行说明。&lt;/p&gt; &lt;h1 id=&quot;插件&quot;&gt;插件&lt;/h1&gt; &lt;p&gt;Jekyll 插件可以扩展 Jekyll 原生没有的功能。&lt;/p&gt; &lt;p&gt;例如：自动生成RSS、生成TOC、生成SEO标记、压缩HTML等等功能，都可以通过插件来实现。&lt;/p&gt; &lt;p&gt;查看本站点&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;文件，便可以查看到本站所使用的插件。&lt;/p&gt; &lt;h2 id=&quot;引入插件&quot;&gt;引入插件&lt;/h2&gt; &lt;p&gt;插件以 Ruby 代码或模块的方式存在，使用时通常引入相应的代码或模块即可。&lt;/p&gt; &lt;p&gt;值得注意的是，如果需要托管在 Github 或者其他提供 Pages 服务的站点，服务商不一定提供运行插件的环境。&lt;/p&gt; &lt;p&gt;因此，建议在本地运行插件，然后将生成结果发布到服务器上，这样就不需要依赖服务器的运行环境。&lt;/p&gt; &lt;p&gt;详细的引入方法，可以点击右侧链接进行了解：&lt;a href=&quot;http://jekyllcn.com/docs/plugins/&quot;&gt;http://jekyllcn.com/docs/plugins/&lt;/a&gt;&lt;/p&gt; &lt;h2 id=&quot;寻找插件&quot;&gt;寻找插件&lt;/h2&gt; &lt;p&gt;可以通过 &lt;a href=&quot;http://jekyllcn.com/docs/plugins/&quot;&gt;http://jekyllcn.com/docs/plugins/&lt;/a&gt; 查看到一些主流的插件。&lt;/p&gt; &lt;p&gt;若需要寻找更多的插件，可以通过搜索引擎或 Github 进行搜索。&lt;/p&gt; &lt;h1 id=&quot;模板&quot;&gt;模板&lt;/h1&gt; &lt;p&gt;模板是指将一个网页分割为多个部分，存放在不同的文件中，以实现尽可能复用代码的目的。&lt;/p&gt; &lt;p&gt;若要使用 Jekyll 布局，就必须了解 HTML 基本标签的用户，读者可以通过右侧链接进行学习：&lt;a href=&quot;http://www.w3school.com.cn/html/index.asp&quot;&gt;http://www.w3school.com.cn/html/index.asp&lt;/a&gt; 。&lt;/p&gt; &lt;p&gt;了解 HTML 基础之后，学习 Jekyll 则比较简单，详细可以通过右侧了解进行学习：&lt;a href=&quot;http://jekyllcn.com/docs/templates/&quot;&gt;http://jekyllcn.com/docs/templates/&lt;/a&gt; 。&lt;/p&gt; &lt;h1 id=&quot;代码高亮&quot;&gt;代码高亮&lt;/h1&gt; &lt;p&gt;本站点模板默认开启了代码高亮，编写博客时只需要使用 markdown 的代码块方法编写即可。&lt;/p&gt; &lt;p&gt;本站点采用的代码高亮方案是通过 rouge 插件实现的，并直接生成的 Sublime Text 类似的展示效果。&lt;/p&gt; &lt;p&gt;若使用 rouge 生成其他风格代码高亮样式，可以通过右侧链接进行学习：&lt;a href=&quot;http://gohom.win/2016/02/04/update-github-rouge/&quot;&gt;http://gohom.win/2016/02/04/update-github-rouge/&lt;/a&gt; 。&lt;/p&gt; &lt;p&gt;此部分操作较为困难，若读者对此部分要求不高，可以直接跳过。&lt;/p&gt; &lt;h1 id=&quot;主题&quot;&gt;主题&lt;/h1&gt; &lt;p&gt;Jekyll 的主题功能也是通过 Ruby 实现的。&lt;/p&gt; &lt;p&gt;用户在编写自己的博文内容时，使用的是 markdown 进行编写，这样作者就可以专注于内容的编写，而效果上的调整，则可以直接借助于主题功能，进行切换，详细的内容，可以通过右侧链接进行了解：&lt;a href=&quot;http://jekyllcn.com/docs/themes/&quot;&gt;http://jekyllcn.com/docs/themes/&lt;/a&gt; 。&lt;/p&gt; &lt;p&gt;本站点没有采用 Jekyll 的主题方案，而是采用 (amazeui)[&lt;a href=&quot;http://amazeui.org/&quot;&gt;http://amazeui.org/&lt;/a&gt;] 进行实现，实现了作者做移动端适配的需求。&lt;/p&gt; &lt;p&gt;更多的主题，通过 Github 所搜 Jekyll Theme 相关的关检测也可以找到。&lt;/p&gt; &lt;hr /&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/04/28/Environment-For-Building-Jekyll-Blog.html&quot;&gt;免费构建自己的博客-开发环境安装&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/04/29/Ready-To-Write-Your-First-Blog-Post.html&quot;&gt;免费构建自己的博客-编写第一篇博客&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/04/30/Manage-Your-Blog-Code-And-Publish-On-Github.html&quot;&gt;免费构建自己的博客-管理博客代码与发布到Github&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/05/26/Show-Me-More-Jekyll.html&quot;&gt;免费构建自己的博客-Jekyll进阶&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/05/27/More-Plugin-More-Fun.html&quot;&gt;免费构建自己的博客-进一步丰富博客&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Sat, 26 May 2018 00:00:00 +0000</pubDate> <link>http://www.newbe.pro/web/2018/05/26/Show-Me-More-Jekyll.html</link> <guid isPermaLink="true">http://www.newbe.pro/web/2018/05/26/Show-Me-More-Jekyll.html</guid> <category>jekyll</category> <category>web</category> <category>web</category> </item> <item> <title>免费构建自己的博客-管理博客代码与发布到Github</title> <description>&lt;p&gt;阅读完前面几节，读者想必已经能够在本地开发环境上正常运行自己的博客。那么本节内容，就说明以下，如何把博客发布的互联网上。&lt;/p&gt; &lt;h1 id=&quot;github-pages&quot;&gt;Github Pages&lt;/h1&gt; &lt;p&gt;Github是全球流行的&lt;del&gt;同性交友&lt;/del&gt;代码托管平台以及开源项目聚集地。&lt;/p&gt; &lt;p&gt;我们可以将博客通过Github进行代码管理以及博客发布。这一切都是免费的。&lt;/p&gt; &lt;h2 id=&quot;注册&quot;&gt;注册&lt;/h2&gt; &lt;p&gt;在这之前，读者需要到Github上注册自己的专属的&lt;del&gt;交友&lt;/del&gt;账号：&lt;a href=&quot;https://github.com/join?source=header-home&quot;&gt;https://github.com/join?source=header-home&lt;/a&gt;&lt;/p&gt; &lt;p&gt;注册之后，登录Github。&lt;/p&gt; &lt;p&gt;&lt;strong&gt;为了说明方便，我们假设新注册的账号名称为traceless&lt;/strong&gt;。&lt;/p&gt; &lt;p&gt;&lt;strong&gt;为了说明方便，我们假设新注册的账号名称为traceless&lt;/strong&gt;。&lt;/p&gt; &lt;p&gt;&lt;strong&gt;为了说明方便，我们假设新注册的账号名称为traceless&lt;/strong&gt;。&lt;/p&gt; &lt;h2 id=&quot;获得下载权限&quot;&gt;获得下载权限&lt;/h2&gt; &lt;p&gt;点击右侧链接：&lt;a href=&quot;https://github.com/Newbe36524/Newbe.Docs&quot;&gt;https://github.com/Newbe36524/Newbe.Docs&lt;/a&gt;。&lt;/p&gt; &lt;p&gt;在界面的右上角点击 Star 获取下载权限。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180429-002.png&quot; alt=&quot;点击Star获取下载权限&quot; /&gt;&lt;/p&gt; &lt;h2 id=&quot;下载文件到自己的账号中&quot;&gt;下载文件到自己的账号中&lt;/h2&gt; &lt;p&gt;点击下图中的&lt;code class=&quot;highlighter-rouge&quot;&gt;Fork&lt;/code&gt;，将源代码下载到自己的账号中。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180430-001.png&quot; alt=&quot;下载文件到自己的账号中&quot; /&gt;&lt;/p&gt; &lt;p&gt;经过一段时间的等待之后，浏览器会自动刷新，并打开下载成功的项目。&lt;/p&gt; &lt;p&gt;从右侧便可以看出，名称已经变更为：&lt;code class=&quot;highlighter-rouge&quot;&gt;traceless/Newbe.Docs&lt;/code&gt; forked from &lt;code class=&quot;highlighter-rouge&quot;&gt;Newbe36524/Newbe.Docs&lt;/code&gt;。&lt;/p&gt; &lt;p&gt;这就表明，已经成功下载了项目到自己的账号中。&lt;/p&gt; &lt;h2 id=&quot;发布博客到互联网中&quot;&gt;发布博客到互联网中&lt;/h2&gt; &lt;p&gt;在项目的页面上，选择&lt;code class=&quot;highlighter-rouge&quot;&gt;Settings&lt;/code&gt;.&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180430-002.png&quot; alt=&quot;点击Settings&quot; /&gt;&lt;/p&gt; &lt;p&gt;滚动到下方，在&lt;code class=&quot;highlighter-rouge&quot;&gt;Github Pages&lt;/code&gt;这个选项上，按照下图所示选择。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180430-003.png&quot; alt=&quot;Github Pages 选择&quot; /&gt;&lt;/p&gt; &lt;p&gt;选择完毕后，点击右侧的&lt;code class=&quot;highlighter-rouge&quot;&gt;Save&lt;/code&gt;按钮。&lt;/p&gt; &lt;p&gt;页面刷新之后，在此滚动到这个设置，便可以看到自动生成的博客地址。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180430-004.png&quot; alt=&quot;生成的博客地址&quot; /&gt;&lt;/p&gt; &lt;p&gt;点击生成的博客地址，便可以查看到发布好的博客内容。&lt;/p&gt; &lt;h1 id=&quot;注册域名&quot;&gt;注册域名&lt;/h1&gt; &lt;p&gt;由于文件路径的问题，上节发布的博客中，内容显示是不正常的。&lt;/p&gt; &lt;p&gt;可以通过添加域名，来解决此问题。&lt;/p&gt; &lt;h2 id=&quot;免费域名&quot;&gt;免费域名&lt;/h2&gt; &lt;p&gt;点击右侧链接，进入免费域名注册页面：&lt;a href=&quot;http://www.freenom.com/zh/index.html?lang=zh&quot;&gt;http://www.freenom.com/zh/index.html?lang=zh&lt;/a&gt;，按照提示进行域名注册。&lt;/p&gt; &lt;p&gt;通过这种方式注册的域名，可以使用一年，&lt;strong&gt;次年快要到期的时候，可以免费续费&lt;/strong&gt;。&lt;/p&gt; &lt;h2 id=&quot;付费域名&quot;&gt;付费域名&lt;/h2&gt; &lt;p&gt;付费域名的提供商很多，我推荐使用阿里云。&lt;/p&gt; &lt;p&gt;首先，点击链接获取最新的阿里云优惠券：&lt;a href=&quot;https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=vmx5szbq&amp;amp;utm_source=vmx5szbq&quot;&gt;https://promotion.aliyun.com/ntms/act/ambassador/sharetouser.html?userCode=vmx5szbq&amp;amp;utm_source=vmx5szbq&lt;/a&gt;&lt;/p&gt; &lt;p&gt;点击下图中的一键领取，获得优惠券，购买更便宜。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180430-005.png&quot; alt=&quot;领取优惠券&quot; /&gt;&lt;/p&gt; &lt;p&gt;按照网站提示，注册并领取成功之后，在浏览器中输入链接地址，进行域名注册。&lt;a href=&quot;https://wanwang.aliyun.com/&quot;&gt;https://wanwang.aliyun.com/&lt;/a&gt;&lt;/p&gt; &lt;h1 id=&quot;配置域名&quot;&gt;配置域名&lt;/h1&gt; &lt;p&gt;域名注册成功之后，回到 Github Pages 的配置页面，将注册好的域名，填入 Custom domain 中。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180430-006.png&quot; alt=&quot;生成的博客地址&quot; /&gt;&lt;/p&gt; &lt;p&gt;保存成功之后，在域名管理商中配置你的域名&lt;code class=&quot;highlighter-rouge&quot;&gt;CNAME&lt;/code&gt;记录到&lt;code class=&quot;highlighter-rouge&quot;&gt;traceless.github.io&lt;/code&gt;。&lt;/p&gt; &lt;p&gt;等待DNS刷新之后，便可以使用刚刚注册的域名，访问你的个人博客了。&lt;/p&gt; &lt;h1 id=&quot;推送自己的内容&quot;&gt;推送自己的内容&lt;/h1&gt; &lt;p&gt;前文中，通过修改本博客的源代码，实现了在本地修改博客的目的。&lt;/p&gt; &lt;p&gt;结合本节内容，读者便可以通过下载自己账号中的Fork的项目，来实现对自己博客的更新。&lt;/p&gt; &lt;hr /&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/04/28/Environment-For-Building-Jekyll-Blog.html&quot;&gt;免费构建自己的博客-开发环境安装&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/04/29/Ready-To-Write-Your-First-Blog-Post.html&quot;&gt;免费构建自己的博客-编写第一篇博客&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/04/30/Manage-Your-Blog-Code-And-Publish-On-Github.html&quot;&gt;免费构建自己的博客-管理博客代码与发布到Github&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/05/26/Show-Me-More-Jekyll.html&quot;&gt;免费构建自己的博客-Jekyll进阶&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/05/27/More-Plugin-More-Fun.html&quot;&gt;免费构建自己的博客-进一步丰富博客&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Mon, 30 Apr 2018 00:00:00 +0000</pubDate> <link>http://www.newbe.pro/web/2018/04/30/Manage-Your-Blog-Code-And-Publish-On-Github.html</link> <guid isPermaLink="true">http://www.newbe.pro/web/2018/04/30/Manage-Your-Blog-Code-And-Publish-On-Github.html</guid> <category>jekyll</category> <category>web</category> <category>web</category> </item> <item> <title>免费构建自己的博客-编写第一篇博客</title> <description>&lt;p&gt;本节，将开始编写第一篇属于自己的博客。&lt;/p&gt; &lt;h1 id=&quot;先别着急写&quot;&gt;先别着急写&lt;/h1&gt; &lt;p&gt;首先可以先试试下载本站的源码，部署一下。&lt;/p&gt; &lt;h2 id=&quot;下载源码&quot;&gt;下载源码&lt;/h2&gt; &lt;p&gt;点击右侧链接：&lt;a href=&quot;https://github.com/Newbe36524/Newbe.Docs&quot;&gt;https://github.com/Newbe36524/Newbe.Docs&lt;/a&gt;。&lt;/p&gt; &lt;p&gt;在界面的右上角点击 Star 获取下载权限。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180429-002.png&quot; alt=&quot;点击Star获取下载权限&quot; /&gt;&lt;/p&gt; &lt;p&gt;点击完成之后，滚动滚轮到下图所示位置，依次点击”Clone and Download”和复制按钮，便成功获得了下载地址。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180429-003.png&quot; alt=&quot;获取下载地址&quot; /&gt;&lt;/p&gt; &lt;p&gt;新建一个空的文件夹，双击进入文件夹，右键点击文件夹空白处，点击 GitExt Clone。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180429-001.png&quot; alt=&quot;点击GitExt Clone&quot; /&gt;&lt;/p&gt; &lt;p&gt;在下图所示的位置，填入下载地址，然后点击右下角的&lt;code class=&quot;highlighter-rouge&quot;&gt;Clone&lt;/code&gt;按钮。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180429-004.png&quot; alt=&quot;点击GitExt Clone&quot; /&gt;&lt;/p&gt; &lt;p&gt;经过一段时间的等待之后，便可以在当前文件夹看到下载成功的源码。&lt;/p&gt; &lt;p&gt;&lt;del&gt;其实存在国内加速地址：&lt;a href=&quot;https://gitee.com/yks/Newbe.Docs&quot;&gt;https://gitee.com/yks/Newbe.Docs&lt;/a&gt;&lt;/del&gt;&lt;/p&gt; &lt;h2 id=&quot;启动博客&quot;&gt;启动博客&lt;/h2&gt; &lt;p&gt;右键点击&lt;code class=&quot;highlighter-rouge&quot;&gt;run.cmd&lt;/code&gt;，点击”使用管理员身份运行”。&lt;/p&gt; &lt;p&gt;第一次启动时，Docker 会要求将设置磁盘共享，这是正常情况。要求当前系统用户的用户名和密码。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180429-006.png&quot; alt=&quot;Share Disk&quot; /&gt;&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180429-007.png&quot; alt=&quot;Enter Username And Password&quot; /&gt;&lt;/p&gt; &lt;p&gt;第一次启动时，可能需要消耗40秒左右的时间，此时界面可能是空白的，可以等待控制台输出下图信息时，才表明已经启动成功。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180429-005.png&quot; alt=&quot;启动博客日志&quot; /&gt;&lt;/p&gt; &lt;p&gt;经过一段时间的等待之后，浏览器就会自动打开 &lt;a href=&quot;http://127.0.0.1:4000&quot;&gt;http://127.0.0.1:4000&lt;/a&gt; 。&lt;/p&gt; &lt;p&gt;控制台打开后即使手动关闭，docker 也会在后台运行，但建议不要手动关闭此控制台。&lt;/p&gt; &lt;h1 id=&quot;开始编写&quot;&gt;开始编写&lt;/h1&gt; &lt;p&gt;接下来演示，如何在本站现有的结构上增加一片博客文章。&lt;/p&gt; &lt;h2 id=&quot;文件夹结构&quot;&gt;文件夹结构&lt;/h2&gt; &lt;p&gt;首先介绍一下源代码的主要结构：&lt;/p&gt; &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; ├─docs &lt;span class=&quot;c&quot;&gt;# 用于存在最终生成的博客文件&lt;/span&gt; └─src &lt;span class=&quot;c&quot;&gt;# 源代码文件夹&lt;/span&gt; ├─assets &lt;span class=&quot;c&quot;&gt;# 存放除了html之外的静态文件，例如css js等&lt;/span&gt; ├─modules &lt;span class=&quot;c&quot;&gt;# 存放jekyll插件的源码，主要是他人的仓库，用于借鉴，可以不必存留&lt;/span&gt; ├─_includes &lt;span class=&quot;c&quot;&gt;# 存放局部视图，将可复用的组件存放于此&lt;/span&gt; ├─_layouts &lt;span class=&quot;c&quot;&gt;# 存放布局文件，用于对博客的大体页面结构进行控制&lt;/span&gt; ├─_plugins &lt;span class=&quot;c&quot;&gt;# jekyll插件&lt;/span&gt; └─_posts &lt;span class=&quot;c&quot;&gt;# 存放博客文章&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;h2 id=&quot;添加博文&quot;&gt;添加博文&lt;/h2&gt; &lt;p&gt;使用资源管理器，进入&lt;code class=&quot;highlighter-rouge&quot;&gt;src&lt;/code&gt;文件夹。右键点击文件夹空白处，选择&lt;code class=&quot;highlighter-rouge&quot;&gt;Open With Atom&lt;/code&gt;。&lt;/p&gt; &lt;p&gt;进入Atom之后，右键点击&lt;code class=&quot;highlighter-rouge&quot;&gt;_post&lt;/code&gt;文件夹，选择&lt;code class=&quot;highlighter-rouge&quot;&gt;New File&lt;/code&gt;，输入新博文的文件名。&lt;/p&gt; &lt;p&gt;文件名的格式要求是&lt;code class=&quot;highlighter-rouge&quot;&gt;时间-名称.md&lt;/code&gt;。&lt;/p&gt; &lt;p&gt;比如，今天是2018年4月29日，博文的名称叫做My-First-Post，那么文件名就是&lt;code class=&quot;highlighter-rouge&quot;&gt;2018-04-29-My-First-Post.md&lt;/code&gt;。&lt;/p&gt; &lt;p&gt;此次演示就输入2018-04-29-My-First-Post.md&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180429-009.png&quot; alt=&quot;第一篇博文名称&quot; /&gt;&lt;/p&gt; &lt;p&gt;点击回车之后，文件就创建好了，此时，若没有关闭上节中提到的控制台，那么在控制台的末尾将会输入下图所示的内容。&lt;/p&gt; &lt;p&gt;&lt;img src=&quot;/assets/i/20180429-008.png&quot; alt=&quot;触发自动生成&quot; /&gt;&lt;/p&gt; &lt;p&gt;最后一行表示，已经自动生成了一片博文。此时博文的内容是看空的，在博客中还找不到。&lt;/p&gt; &lt;p&gt;但是，这就表明，博客编写的过程中，可以只关注与编写博客内容，复杂的生成过程会自动处理。&lt;/p&gt; &lt;h2 id=&quot;编写内容&quot;&gt;编写内容&lt;/h2&gt; &lt;p&gt;添加过第一篇博文之后，在Atom中，双击打开刚刚添加的&lt;code class=&quot;highlighter-rouge&quot;&gt;2018-04-29-My-First-Post.md&lt;/code&gt;文件。&lt;/p&gt; &lt;p&gt;在文件中输入以下内容：&lt;/p&gt; &lt;div class=&quot;language-markdown highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt; ---&lt;/span&gt; layout: post title: 喜欢您来，肯打鸡欢迎您 categories: demo &lt;span class=&quot;gh&quot;&gt;tags: jekyll demo --- &lt;/span&gt; 喜欢您来，肯打鸡欢迎您。 是的，如果你希望答谢本站内容给你带来的帮助，那么可以通过以下途径支持本站。 是的，一整页都是关于如何资助本网站。 &lt;span class=&quot;gs&quot;&gt;**可以分文不花就完成对本站的支持。**&lt;/span&gt; &lt;span class=&quot;p&quot;&gt; -------------------------------------------------------------------------------- &lt;/span&gt; &lt;span class=&quot;gh&quot;&gt;# 不！花！钱！&lt;/span&gt; &lt;span class=&quot;gu&quot;&gt;## 七牛认证&lt;/span&gt; 通过以下链接，注册七牛账号，通过实名认证，本站点将会获得每个月5G的下载流量。 &lt;span class=&quot;nv&quot;&gt;&amp;lt;https://portal.qiniu.com/signup?code=3lh1xg5arudea&amp;gt;&lt;/span&gt; &lt;span class=&quot;gu&quot;&gt;## 挖矿？&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&amp;lt;https://authedmine.com/media/miner.html?key=70pQBVoLVg88SblKomCh9mJHBeT8nOzk&amp;gt;&lt;/span&gt; &lt;span class=&quot;gh&quot;&gt;# ~~钱、钱、钱！~~&lt;/span&gt; &lt;span class=&quot;gu&quot;&gt;## 支付宝&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;![&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;支付宝&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt;&lt;span class=&quot;sx&quot;&gt;http://www.newbe.pro/assets/i/zhifubao.jpg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;{:height=&quot;600px&quot; width=&quot;400px&quot;} &lt;span class=&quot;gu&quot;&gt;## 微信&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;![&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;微信&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt;&lt;span class=&quot;sx&quot;&gt;http://www.newbe.pro/assets/i/weixin.png&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;{:height=&quot;400px&quot; width=&quot;400px&quot;} &lt;span class=&quot;gu&quot;&gt;## 开源中国&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&amp;lt;https://gitee.com/yks/Newbe.Mahua.Framework#project-donate-overview&amp;gt;&lt;/span&gt;{:target='_blank'} &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt; &lt;p&gt;按下&lt;code class=&quot;highlighter-rouge&quot;&gt;ctrl&lt;/code&gt;+&lt;code class=&quot;highlighter-rouge&quot;&gt;s&lt;/code&gt;保存文件。&lt;/p&gt; &lt;p&gt;此时，在控制台中，又会出现一行提示，表明博文已经重新加载。&lt;/p&gt; &lt;p&gt;然后在浏览器中打开 &lt;a href=&quot;http://127.0.0.1:4000/demo/2018/04/29/My-First-Post.html&quot;&gt;http://127.0.0.1:4000/demo/2018/04/29/My-First-Post.html&lt;/a&gt; ，便可以看到刚刚写好的博文效果。&lt;/p&gt; &lt;p&gt;至此，就已经添加好了第一篇博文的内容。若读者对markdown语法有基础的了解，便可以独立撰写博文了。&lt;/p&gt; &lt;p&gt;对于markdown语法不太了解的读者，&lt;a href=&quot;http://amwiki.org/doc/?file=020-%E6%95%99%E7%A8%8B%E5%AD%A6%E4%B9%A0%E7%AF%87/005-%E5%AD%A6%E4%B9%A0markdown/01-Markdown%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B&quot;&gt;可以点击此处进行学习&lt;/a&gt;，此处不再过多说明。&lt;/p&gt; &lt;p&gt;由于安装了 tiny-markdown 插件，保存文章时，会自动进行格式化，是正常现象。&lt;/p&gt; &lt;hr /&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/04/28/Environment-For-Building-Jekyll-Blog.html&quot;&gt;免费构建自己的博客-开发环境安装&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/04/29/Ready-To-Write-Your-First-Blog-Post.html&quot;&gt;免费构建自己的博客-编写第一篇博客&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/04/30/Manage-Your-Blog-Code-And-Publish-On-Github.html&quot;&gt;免费构建自己的博客-管理博客代码与发布到Github&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/05/26/Show-Me-More-Jekyll.html&quot;&gt;免费构建自己的博客-Jekyll进阶&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;/web/2018/05/27/More-Plugin-More-Fun.html&quot;&gt;免费构建自己的博客-进一步丰富博客&lt;/a&gt;&lt;/p&gt; </description> <pubDate>Sun, 29 Apr 2018 00:00:00 +0000</pubDate> <link>http://www.newbe.pro/web/2018/04/29/Ready-To-Write-Your-First-Blog-Post.html</link> <guid isPermaLink="true">http://www.newbe.pro/web/2018/04/29/Ready-To-Write-Your-First-Blog-Post.html</guid> <category>jekyll</category> <category>web</category> <category>web</category> </item> </channel> </rss>

